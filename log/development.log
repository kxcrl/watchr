  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230406024729)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230406024729"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-06 02:50:24.555952"], ["updated_at", "2023-04-06 02:50:24.555952"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-04-06 12:41:45 +0900
  
ActiveRecord::ConnectionNotEstablished (could not translate host name "db" to address: Name or service not known
):
  
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.4.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2023-04-06 12:42:07 +0900
  
ActiveRecord::NoDatabaseError (We could not find your database: dev. Which can be found in the database configuration file located at config/database.yml.

To resolve this issue:

- Did you create the database for this app, or delete it? You may need to create your database.
- Has the database name changed? Check your database.yml config has the correct database name.

To create your database, run:

        bin/rails db:create
):
  
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.4.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2023-04-06 12:42:08 +0900
  
ActiveRecord::NoDatabaseError (We could not find your database: dev. Which can be found in the database configuration file located at config/database.yml.

To resolve this issue:

- Did you create the database for this app, or delete it? You may need to create your database.
- Has the database name changed? Check your database.yml config has the correct database name.

To create your database, run:

        bin/rails db:create
):
  
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.4.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (29.1ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  [1m[35m (21.2ms)[0m  [1m[35mCREATE DATABASE "test" ENCODING = 'unicode'[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230406024729)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230406024729"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-06 03:42:21.229717"], ["updated_at", "2023-04-06 03:42:21.229717"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-04-06 12:42:26 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.6ms | Allocations: 578)
  Rendered layout layouts/application.html.erb (Duration: 258.4ms | Allocations: 138345)
Completed 200 OK in 263ms (Views: 259.7ms | ActiveRecord: 0.0ms | Allocations: 142124)


Started GET "/login" for 127.0.0.1 at 2023-04-06 12:43:11 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 5885)
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 12446)
Completed 200 OK in 22ms (Views: 22.0ms | ActiveRecord: 0.0ms | Allocations: 13097)


Started POST "/login" for 127.0.0.1 at 2023-04-06 12:43:25 +0900
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"testuser@email.com", "password"=>"[FILTERED]", "commit"=>"Log In"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@email.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:6:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 2131)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 8609)
Completed 200 OK in 18ms (Views: 9.0ms | ActiveRecord: 2.2ms | Allocations: 12740)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 12:43:31 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1738)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 8414)
Completed 200 OK in 28ms (Views: 17.4ms | ActiveRecord: 3.0ms | Allocations: 12771)


Started POST "/users" for 127.0.0.1 at 2023-04-06 12:43:45 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"a@b.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1611)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 8158)
Completed 200 OK in 207ms (Views: 5.8ms | ActiveRecord: 0.9ms | Allocations: 11779)


Started GET "/" for 127.0.0.1 at 2023-04-06 13:11:28 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.6ms | Allocations: 577)
  Rendered layout layouts/application.html.erb (Duration: 47.9ms | Allocations: 51860)
Completed 200 OK in 51ms (Views: 49.1ms | ActiveRecord: 0.0ms | Allocations: 55035)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 13:11:35 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3103)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 9747)
Completed 200 OK in 27ms (Views: 12.6ms | ActiveRecord: 5.0ms | Allocations: 15501)


Started POST "/users" for 127.0.0.1 at 2023-04-06 13:11:40 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"a@b.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ (pry):1:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b.com"], ["LIMIT", 1]]
  ↳ (pry):1:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ (pry):1:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:10:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:10:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1613)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 8321)
Completed 200 OK in 33759ms (Views: 18.1ms | ActiveRecord: 1.8ms | Allocations: 64940)


Started POST "/users" for 127.0.0.1 at 2023-04-06 13:12:23 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"a@bb.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ (pry):2:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@bb.com"], ["LIMIT", 1]]
  ↳ (pry):2:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ (pry):2:in `create'
Started GET "/signup" for 127.0.0.1 at 2023-04-06 13:16:45 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3585)
  Rendered layout layouts/application.html.erb (Duration: 56.7ms | Allocations: 54781)
Completed 200 OK in 67ms (Views: 58.0ms | ActiveRecord: 2.1ms | Allocations: 63072)


Started POST "/users" for 127.0.0.1 at 2023-04-06 13:16:51 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"a@bbb.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ (pry):1:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@bbb.com"], ["LIMIT", 1]]
  ↳ (pry):1:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ (pry):1:in `create'
Started POST "/users" for 127.0.0.1 at 2023-04-06 13:20:25 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"a@b.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:10:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:10:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "a@b.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-04-06 04:20:31.462024"], ["updated_at", "2023-04-06 04:20:31.462024"]]
  ↳ app/controllers/users_controller.rb:10:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:10:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 5460ms (ActiveRecord: 7.1ms | Allocations: 28121)


Started GET "/" for 127.0.0.1 at 2023-04-06 13:20:31 +0900
Processing by PagesController#login as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.7ms | Allocations: 514)
  Rendered layout layouts/application.html.erb (Duration: 56.4ms | Allocations: 51901)
Completed 200 OK in 60ms (Views: 58.0ms | ActiveRecord: 0.0ms | Allocations: 53918)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 13:23:29 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 3187)
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | Allocations: 25728)
Completed 200 OK in 37ms (Views: 31.1ms | ActiveRecord: 3.0ms | Allocations: 28831)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 13:23:29 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1185)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 7879)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 8152)


Started GET "/login" for 127.0.0.1 at 2023-04-06 13:31:16 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2786)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 10748)
Completed 200 OK in 10ms (Views: 9.2ms | Allocations: 11573)


Started GET "/login" for 127.0.0.1 at 2023-04-06 13:31:16 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 2480)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 8973)
Completed 200 OK in 11ms (Views: 10.6ms | Allocations: 9230)


Started GET "/login" for 127.0.0.1 at 2023-04-06 13:32:38 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2827)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 9612)
Completed 200 OK in 16ms (Views: 15.1ms | Allocations: 10359)


Started GET "/login" for 127.0.0.1 at 2023-04-06 13:32:54 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2834)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 9619)
Completed 200 OK in 8ms (Views: 7.3ms | Allocations: 10365)


Started GET "/login" for 127.0.0.1 at 2023-04-06 13:33:04 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2809)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 10756)
Completed 200 OK in 17ms (Views: 16.2ms | Allocations: 11504)


Started GET "/login" for 127.0.0.1 at 2023-04-06 13:33:20 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2798)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 9611)
Completed 200 OK in 16ms (Views: 15.6ms | Allocations: 10357)


Started GET "/" for 127.0.0.1 at 2023-04-06 13:33:22 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.7ms | Allocations: 273)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 7233)
Completed 200 OK in 11ms (Views: 11.0ms | Allocations: 7871)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 13:33:24 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1511)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 8068)
Completed 200 OK in 15ms (Views: 14.3ms | Allocations: 8645)


Started GET "/login" for 127.0.0.1 at 2023-04-06 13:33:26 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2496)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 8982)
Completed 200 OK in 11ms (Views: 10.8ms | Allocations: 9245)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 13:33:30 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1176)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 7661)
Completed 200 OK in 12ms (Views: 11.3ms | Allocations: 7939)


Started GET "/login" for 127.0.0.1 at 2023-04-06 13:33:32 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2479)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 8964)
Completed 200 OK in 11ms (Views: 10.9ms | Allocations: 9223)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMovies (20230406043802)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "title" character varying, "year" integer, "details" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230406043802"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "The Lego Movie"], ["year", 2014], ["details", "An ordinary LEGO construction worker, thought to be the prophesied as \"special\", is recruited to join a quest to stop an evil tyrant from gluing the LEGO universe into eternal stasis."], ["created_at", "2023-04-06 04:53:45.037336"], ["updated_at", "2023-04-06 04:53:45.037336"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "The Simpsons Movie"], ["year", 2007], ["details", "After Homer pollutes the town's water supply, Springfield is encased in a gigantic dome by the EPA and the Simpsons are declared fugitives."], ["created_at", "2023-04-06 04:53:45.386438"], ["updated_at", "2023-04-06 04:53:45.386438"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Scary Movie"], ["year", 2000], ["details", "A year after disposing of the body of a man they accidentally killed, a group of dumb teenagers are stalked by a bumbling serial killer."], ["created_at", "2023-04-06 04:53:45.737726"], ["updated_at", "2023-04-06 04:53:45.737726"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "El Camino: A Breaking Bad Movie"], ["year", 2019], ["details", "Fugitive Jesse Pinkman runs from his captors, the law, and his past."], ["created_at", "2023-04-06 04:53:46.096609"], ["updated_at", "2023-04-06 04:53:46.096609"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Bee Movie"], ["year", 2007], ["details", "Barry B. Benson, a bee just graduated from college, is disillusioned at his lone career choice: making honey. On a special trip outside the hive, Barry's life is saved by Vanessa, a florist in New York City. As their relationship ..."], ["created_at", "2023-04-06 04:53:46.449142"], ["updated_at", "2023-04-06 04:53:46.449142"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Scary Movie 2"], ["year", 2001], ["details", "Four teens are tricked by Professor Oldman (Tim Curry) into visiting a haunted house for a school project."], ["created_at", "2023-04-06 04:53:46.797467"], ["updated_at", "2023-04-06 04:53:46.797467"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "The Lego Batman Movie"], ["year", 2017], ["details", "A cooler-than-ever Bruce Wayne must deal with the usual suspects as they plan to rule Gotham City, while discovering that he has accidentally adopted a teenage orphan who wishes to become his sidekick."], ["created_at", "2023-04-06 04:53:47.150616"], ["updated_at", "2023-04-06 04:53:47.150616"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Scary Movie 3"], ["year", 2003], ["details", "Cindy must investigate mysterious crop circles and video tapes, and help the President in preventing an alien invasion."], ["created_at", "2023-04-06 04:53:47.506707"], ["updated_at", "2023-04-06 04:53:47.506707"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Scary Movie 4"], ["year", 2006], ["details", "Cindy finds out the house she lives in is haunted by a little boy and goes on a quest to find out who killed him and why. Also, Alien \"Tr-iPods\" are invading the world and she has to uncover the secret in order to stop them."], ["created_at", "2023-04-06 04:53:47.848880"], ["updated_at", "2023-04-06 04:53:47.848880"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Not Another Teen Movie"], ["year", 2001], ["details", "A sendup of all the teen movies that have accumulated in the past two decades."], ["created_at", "2023-04-06 04:53:48.280660"], ["updated_at", "2023-04-06 04:53:48.280660"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Movie 43"], ["year", 2013], ["details", "A series of interconnected short films follows a washed-up producer as he pitches insane story lines featuring some of the biggest stars in Hollywood."], ["created_at", "2023-04-06 04:53:49.128488"], ["updated_at", "2023-04-06 04:53:49.128488"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Epic Movie"], ["year", 2007], ["details", "A spoof on previous years' epic movies (The Da Vinci Code (2006), The Chronicles of Narnia: The Lion, the Witch and the Wardrobe (2005) + 20 more), TV series, music videos and celebs. 4 orphans are on an epic adventure."], ["created_at", "2023-04-06 04:53:49.476837"], ["updated_at", "2023-04-06 04:53:49.476837"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Jackass: The Movie"], ["year", 2002], ["details", "Johnny Knoxville and his band of maniacs perform a variety of stunts and gross-out gags on the big screen for the first time."], ["created_at", "2023-04-06 04:53:49.823889"], ["updated_at", "2023-04-06 04:53:49.823889"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "The Angry Birds Movie"], ["year", 2016], ["details", "When an island populated by happy, flightless birds is visited by mysterious green piggies, it's up to three unlikely outcasts - Red, Chuck and Bomb - to figure out what the pigs are up to."], ["created_at", "2023-04-06 04:53:50.182463"], ["updated_at", "2023-04-06 04:53:50.182463"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "The SpongeBob SquarePants Movie"], ["year", 2004], ["details", "SpongeBob SquarePants takes leave from the town of Bikini Bottom in order to track down King Neptune's stolen crown."], ["created_at", "2023-04-06 04:53:50.529015"], ["updated_at", "2023-04-06 04:53:50.529015"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Disaster Movie"], ["year", 2008], ["details", "Over the course of one evening, an unsuspecting group of twenty-somethings find themselves bombarded by a series of natural disasters and catastrophic events."], ["created_at", "2023-04-06 04:53:50.885068"], ["updated_at", "2023-04-06 04:53:50.885068"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "A Silent Voice: The Movie"], ["year", 2016], ["details", "A young man is ostracized by his classmates after he bullies a deaf girl to the point where she moves away. Years later, he sets off on a path for redemption."], ["created_at", "2023-04-06 04:53:51.239139"], ["updated_at", "2023-04-06 04:53:51.239139"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Scary Movie V"], ["year", 2013], ["details", "A couple begin to experience some unusual activity after bringing their lost nieces and nephew home. With the help of home-surveillance cameras, they learn they're being stalked by a nefarious demon."], ["created_at", "2023-04-06 04:53:51.589526"], ["updated_at", "2023-04-06 04:53:51.589526"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Superhero Movie"], ["year", 2008], ["details", "Orphaned high school student Rick Riker is bitten by a radioactive dragonfly, develops super powers (except for the ability to fly), and becomes a hero."], ["created_at", "2023-04-06 04:53:51.948201"], ["updated_at", "2023-04-06 04:53:51.948201"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "The Lego Movie 2: The Second Part"], ["year", 2019], ["details", "It's been five years since everything was awesome and the citizens are facing a huge new threat: Lego Duplo invaders from outer space, wrecking everything faster than they can rebuild."], ["created_at", "2023-04-06 04:53:52.375987"], ["updated_at", "2023-04-06 04:53:52.375987"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "The Emoji Movie"], ["year", 2017], ["details", "Gene, a multi-expressional emoji, sets out on a journey to become a normal emoji."], ["created_at", "2023-04-06 04:53:53.272329"], ["updated_at", "2023-04-06 04:53:53.272329"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Demon Slayer the Movie: Mugen Train"], ["year", 2020], ["details", "After his family was brutally murdered and his sister turned into a demon, Tanjiro Kamado's journey as a demon slayer began. Tanjiro and his comrades embark on a new mission aboard the Mugen Train, on track to despair."], ["created_at", "2023-04-06 04:53:53.616146"], ["updated_at", "2023-04-06 04:53:53.616146"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Date Movie"], ["year", 2006], ["details", "Spoof of romantic comedies which focuses on a man, his crush, his parents, and her father."], ["created_at", "2023-04-06 04:53:53.957243"], ["updated_at", "2023-04-06 04:53:53.957243"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "A Goofy Movie"], ["year", 1995], ["details", "When Max makes a preposterous promise to a girl he has a crush on, his chances to fulfilling it seem hopeless when he is dragged onto a cross-country trip with his embarrassing father, Goofy."], ["created_at", "2023-04-06 04:53:54.312978"], ["updated_at", "2023-04-06 04:53:54.312978"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "The SpongeBob Movie: Sponge Out of Water"], ["year", 2015], ["details", "When a diabolical pirate above the sea steals the secret Krabby Patty formula, SpongeBob and his nemesis Plankton must team up in order to get it back."], ["created_at", "2023-04-06 04:53:54.653422"], ["updated_at", "2023-04-06 04:53:54.653422"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Cowboy Bebop: The Movie"], ["year", 2001], ["details", "A terrorist explosion releases a deadly virus on the masses, and it's up to the bounty-hunting Bebop crew to catch the cold-blooded culprit."], ["created_at", "2023-04-06 04:53:55.004560"], ["updated_at", "2023-04-06 04:53:55.004560"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "The Peanuts Movie"], ["year", 2015], ["details", "Snoopy embarks upon his greatest mission as he and his team take to the skies to pursue their archnemesis, while his best pal Charlie Brown begins his own epic quest back home to win the love of his life."], ["created_at", "2023-04-06 04:53:55.347804"], ["updated_at", "2023-04-06 04:53:55.347804"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Pokémon: The First Movie - Mewtwo Strikes Back"], ["year", 1998], ["details", "Scientists genetically create a new Pokémon, Mewtwo, but the results are horrific and disastrous."], ["created_at", "2023-04-06 04:53:55.695197"], ["updated_at", "2023-04-06 04:53:55.695197"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Hannah Montana: The Movie"], ["year", 2009], ["details", "As Hannah Montana's popularity begins to take over her life, Miley Stewart, on the urging from her father takes a trip to her hometown of Crowley Corners, Tennessee to get some perspective on what matters in life the most."], ["created_at", "2023-04-06 04:53:56.039120"], ["updated_at", "2023-04-06 04:53:56.039120"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Shaun the Sheep Movie"], ["year", 2015], ["details", "When Shaun decides to take the day off and have some fun, he gets a little more action than he bargained for. A mix up with the Farmer, a caravan and a very steep hill lead them all to the Big City and it's up to Shaun and the flo..."], ["created_at", "2023-04-06 04:53:56.247951"], ["updated_at", "2023-04-06 04:53:56.247951"]]
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:24:in `block (4 levels) in <main>'
Started GET "/movies" for 127.0.0.1 at 2023-04-06 13:54:10 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:4
  Rendered movies/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 7324)
  Rendered layout layouts/application.html.erb (Duration: 67.9ms | Allocations: 65717)
Completed 200 OK in 72ms (Views: 66.6ms | ActiveRecord: 2.6ms | Allocations: 69548)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:12:09 +0900
  
ActiveRecord::ConnectionNotEstablished (could not translate host name "db" to address: Name or service not known
):
  
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.4.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:12:11 +0900
  
ActiveRecord::ConnectionNotEstablished (could not translate host name "db" to address: Name or service not known
):
  
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.4.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:12:13 +0900
  
ActiveRecord::ConnectionNotEstablished (could not translate host name "db" to address: Name or service not known
):
  
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.4.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:12:23 +0900
  
ActiveRecord::ConnectionNotEstablished (could not translate host name "db" to address: Name or service not known
):
  
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.4.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:12:24 +0900
  
ActiveRecord::ConnectionNotEstablished (could not translate host name "db" to address: Name or service not known
):
  
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.4.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.4.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.4.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.4.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.4.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:12:30 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:4
  Rendered movies/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 7324)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 271)
  Rendered layout layouts/application.html.erb (Duration: 70.4ms | Allocations: 66846)
Completed 200 OK in 75ms (Views: 69.0ms | ActiveRecord: 2.6ms | Allocations: 70672)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:12:33 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:4
  Rendered movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1909)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 8921)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.4ms | Allocations: 9193)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:12:33 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:4
  Rendered movies/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1913)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 8692)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.4ms | Allocations: 8969)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:13:53 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:4
  Rendered movies/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2117)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 244)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 9485)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.4ms | Allocations: 10244)


Started GET "/movies/1" for 127.0.0.1 at 2023-04-06 17:14:09 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 244)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 242)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 7583)
Completed 200 OK in 24ms (Views: 11.7ms | ActiveRecord: 0.7ms | Allocations: 17061)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:14:14 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2093)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 8876)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.5ms | Allocations: 9208)


Started GET "/movies/3" for 127.0.0.1 at 2023-04-06 17:14:16 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 51)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 6836)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.4ms | Allocations: 7616)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:14:17 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1908)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 8812)
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.4ms | Allocations: 9082)


Started GET "/movies/6" for 127.0.0.1 at 2023-04-06 17:14:18 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 51)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 6958)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.4ms | Allocations: 7740)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:14:20 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1908)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 8695)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.4ms | Allocations: 8965)


Started GET "/movies/10" for 127.0.0.1 at 2023-04-06 17:14:22 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 52)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 6816)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.4ms | Allocations: 7597)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:14:23 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1908)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 8695)
Completed 200 OK in 13ms (Views: 12.7ms | ActiveRecord: 0.3ms | Allocations: 8965)


Started GET "/movies/13" for 127.0.0.1 at 2023-04-06 17:14:28 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 52)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 6828)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.4ms | Allocations: 7609)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:14:29 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1908)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 8708)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.4ms | Allocations: 8978)


Started GET "/movies/17" for 127.0.0.1 at 2023-04-06 17:14:30 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 52)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 6862)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.4ms | Allocations: 7642)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:14:31 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1908)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 8889)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.4ms | Allocations: 9159)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:16:39 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2112)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 243)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 9501)
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.3ms | Allocations: 10254)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:18:20 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2107)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 342)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 9591)
Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.4ms | Allocations: 10344)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:18:21 +0900
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:20:21 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
Started GET "/" for 127.0.0.1 at 2023-04-06 17:20:24 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 1.0ms | Allocations: 332)
  Rendered layout layouts/application.html.erb (Duration: 115.5ms | Allocations: 51765)
Completed 200 OK in 120ms (Views: 117.0ms | ActiveRecord: 0.0ms | Allocations: 53881)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:20:33 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.1ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 6764)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms | Allocations: 7023)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 17:20:42 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3093)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 359)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 10155)
Completed 200 OK in 29ms (Views: 15.1ms | ActiveRecord: 4.1ms | Allocations: 15901)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 17:21:23 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1523)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 8366)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 9128)


Started POST "/users" for 127.0.0.1 at 2023-04-06 17:21:29 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (4.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "test@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-04-06 08:21:29.473056"], ["updated_at", "2023-04-06 08:21:29.473056"]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 180ms (ActiveRecord: 6.0ms | Allocations: 6234)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:21:29 +0900
Processing by PagesController#login as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.4ms | Allocations: 263)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 7040)
Completed 200 OK in 9ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 7650)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:21:34 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 6857)
Completed 200 OK in 11ms (Views: 11.1ms | ActiveRecord: 0.0ms | Allocations: 7114)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:21:38 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 5350)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 337)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 12577)
Completed 200 OK in 23ms (Views: 18.1ms | ActiveRecord: 3.8ms | Allocations: 13621)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:21:42 +0900
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
Started GET "/rails/info/routes?path=session" for 127.0.0.1 at 2023-04-06 17:21:58 +0900
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"session"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1955)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:22:47 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3882)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 337)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 24678)
Completed 200 OK in 18ms (Views: 14.8ms | ActiveRecord: 2.0ms | Allocations: 26100)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:22:49 +0900
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:22:53 +0900
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
Started GET "/" for 127.0.0.1 at 2023-04-06 17:23:29 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.3ms | Allocations: 273)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 20333)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 20979)


Started GET "/login" for 127.0.0.1 at 2023-04-06 17:23:30 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2858)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 9665)
Completed 200 OK in 12ms (Views: 12.1ms | ActiveRecord: 0.0ms | Allocations: 10312)


Started POST "/login" for 127.0.0.1 at 2023-04-06 17:23:34 +0900
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Log In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 201ms (ActiveRecord: 3.4ms | Allocations: 3529)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:23:34 +0900
Processing by MoviesController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3591)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 10716)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 1.8ms | Allocations: 11671)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:23:38 +0900
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:23:42 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1913)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 109)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 8958)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.5ms | Allocations: 9227)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:23:44 +0900
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
Started GET "/" for 127.0.0.1 at 2023-04-06 17:23:47 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 6994)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms | Allocations: 7252)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:26:12 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.1ms | Allocations: 127)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 19962)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 20485)


Started GET "/login" for 127.0.0.1 at 2023-04-06 17:26:14 +0900
Processing by SessionsController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 505)


  
NameError (undefined local variable or method `current_user' for #<SessionsController:0x00000000019028>):
  
app/controllers/sessions_controller.rb:3:in `new'
Started GET "/login" for 127.0.0.1 at 2023-04-06 17:26:43 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1709)


  
NameError (undefined local variable or method `current_user' for #<SessionsController:0x0000000000b450>):
  
app/controllers/sessions_controller.rb:3:in `new'
Started GET "/" for 127.0.0.1 at 2023-04-06 17:26:47 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.7ms | Allocations: 335)
  Rendered layout layouts/application.html.erb (Duration: 59.3ms | Allocations: 51655)
Completed 200 OK in 61ms (Views: 60.6ms | ActiveRecord: 0.0ms | Allocations: 52594)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:27:12 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.1ms | Allocations: 127)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 19808)
Completed 200 OK in 14ms (Views: 13.8ms | ActiveRecord: 0.0ms | Allocations: 20331)


Started GET "/login" for 127.0.0.1 at 2023-04-06 17:27:14 +0900
Processing by SessionsController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 487)


  
NameError (undefined local variable or method `current_user' for #<SessionsController:0x0000000000fb40>):
  
app/controllers/sessions_controller.rb:3:in `new'
Started GET "/login" for 127.0.0.1 at 2023-04-06 17:28:07 +0900
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
Redirected to http://localhost:3000/movies
Completed 302 Found in 11ms (ActiveRecord: 4.4ms | Allocations: 7915)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:28:07 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 5291)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 352)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 25829)
Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 2.7ms | Allocations: 26873)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:28:09 +0900
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
Started GET "/" for 127.0.0.1 at 2023-04-06 17:28:12 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 123)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 7115)
Completed 200 OK in 9ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 7632)


Started GET "/login" for 127.0.0.1 at 2023-04-06 17:28:15 +0900
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
Redirected to http://localhost:3000/movies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 854)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:28:15 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1908)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 109)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 8761)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.3ms | Allocations: 9032)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:28:20 +0900
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:31:46 +0900
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
Started GET "/" for 127.0.0.1 at 2023-04-06 17:31:48 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.6ms | Allocations: 264)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 7520)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 8219)


Started GET "/login" for 127.0.0.1 at 2023-04-06 17:31:50 +0900
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
Redirected to http://localhost:3000/movies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 846)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:31:50 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2106)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 314)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 9299)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.3ms | Allocations: 9873)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:31:51 +0900
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:32:02 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 405)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:32:02 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.1ms | Allocations: 126)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 20243)
Completed 200 OK in 13ms (Views: 13.1ms | ActiveRecord: 0.0ms | Allocations: 20761)


Started GET "/login" for 127.0.0.1 at 2023-04-06 17:32:03 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3923)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 10585)
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 0.0ms | Allocations: 11366)


Started POST "/login" for 127.0.0.1 at 2023-04-06 17:32:20 +0900
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 179ms (ActiveRecord: 3.4ms | Allocations: 3494)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:32:20 +0900
Processing by MoviesController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 3594)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 52.8ms | Allocations: 23687)
Completed 200 OK in 54ms (Views: 51.6ms | ActiveRecord: 1.7ms | Allocations: 24646)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:32:23 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 330)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:32:23 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 123)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 6974)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 7492)


Started GET "/login" for 127.0.0.1 at 2023-04-06 17:32:24 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2378)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 8955)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 9607)


Started POST "/login" for 127.0.0.1 at 2023-04-06 17:32:29 +0900
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Log In"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 199ms (ActiveRecord: 0.4ms | Allocations: 908)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:32:30 +0900
Processing by MoviesController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1908)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 90)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 8780)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.3ms | Allocations: 9054)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateFavorites (20230406083934)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "user_id" bigint NOT NULL, "movie_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d15744e438"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_2f96619ba3"
FOREIGN KEY ("movie_id")
  REFERENCES "movies" ("id")
)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_movie_id" ON "favorites" ("movie_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230406083934"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:46:02 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3747)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 314)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 24509)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.3ms | Allocations: 27279)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:46:03 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 376)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:46:04 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.9ms | Allocations: 269)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 7044)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms | Allocations: 7686)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 17:46:05 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1844)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 8423)
Completed 200 OK in 17ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 11573)


Started POST "/users" for 127.0.0.1 at 2023-04-06 17:46:16 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "test2@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-04-06 08:46:16.308602"], ["updated_at", "2023-04-06 08:46:16.308602"]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 182ms (ActiveRecord: 5.5ms | Allocations: 4893)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:46:16 +0900
Processing by PagesController#login as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.1ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 6771)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 7076)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:46:48 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.1ms | Allocations: 127)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 20057)
Completed 200 OK in 10ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 20580)


Started GET "/login" for 127.0.0.1 at 2023-04-06 17:46:49 +0900
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
Redirected to http://localhost:3000/movies
Completed 302 Found in 11ms (ActiveRecord: 3.8ms | Allocations: 4542)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:46:49 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3591)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 10507)
Completed 200 OK in 19ms (Views: 13.7ms | ActiveRecord: 2.6ms | Allocations: 12145)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:46:52 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 341)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:46:52 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 6780)
Completed 200 OK in 8ms (Views: 8.0ms | ActiveRecord: 0.0ms | Allocations: 7039)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 17:46:53 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1266)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 7962)
Completed 200 OK in 9ms (Views: 8.9ms | ActiveRecord: 0.0ms | Allocations: 8507)


Started POST "/users" for 127.0.0.1 at 2023-04-06 17:47:01 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test3@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "test3@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-04-06 08:47:01.232850"], ["updated_at", "2023-04-06 08:47:01.232850"]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 203ms (ActiveRecord: 4.6ms | Allocations: 3696)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:47:01 +0900
Processing by MoviesController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1908)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 90)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 8892)
Completed 200 OK in 6ms (Views: 6.0ms | ActiveRecord: 0.2ms | Allocations: 9166)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:54:03 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 6616)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 320)
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | Allocations: 27159)
Completed 200 OK in 27ms (Views: 24.9ms | ActiveRecord: 3.0ms | Allocations: 29318)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 17:54:05 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 4]]
  ↳ app/views/favorites/index.html.erb:2
  Rendered favorites/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 6448)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 13271)
Completed 200 OK in 56ms (Views: 20.9ms | ActiveRecord: 3.5ms | Allocations: 24573)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:54:06 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1908)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 98)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 8734)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.4ms | Allocations: 9008)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 17:54:07 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 391)


Started GET "/" for 127.0.0.1 at 2023-04-06 17:54:07 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.6ms | Allocations: 269)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 7047)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 7689)


Started GET "/login" for 127.0.0.1 at 2023-04-06 17:55:06 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 2612)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 22595)
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.0ms | Allocations: 23586)


Started POST "/login" for 127.0.0.1 at 2023-04-06 17:55:11 +0900
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 204ms (ActiveRecord: 3.9ms | Allocations: 4100)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:55:11 +0900
Processing by MoviesController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3773)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 320)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 11139)
Completed 200 OK in 13ms (Views: 8.6ms | ActiveRecord: 2.4ms | Allocations: 12947)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 17:55:12 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  Rendered favorites/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1074)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1162)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms | Allocations: 4742)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    1: <ul>
    2:   <% @favorites.each do |movie| %>
    3:     <li>
    4:       <%= link_to movie.title, movie_path(movie) %> - <%= movie.year %>
    5:     </li>
  
app/views/favorites/index.html.erb:2
Started GET "/favorites" for 127.0.0.1 at 2023-04-06 17:55:19 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/favorites/index.html.erb:2
  Rendered favorites/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3690)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 23581)
Completed 200 OK in 25ms (Views: 11.5ms | ActiveRecord: 7.0ms | Allocations: 31186)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:55:23 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3190)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 106)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 10120)
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.4ms | Allocations: 10707)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 17:55:46 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/favorites/index.html.erb:2
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1013)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 350)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 8334)
Completed 200 OK in 15ms (Views: 11.7ms | ActiveRecord: 0.8ms | Allocations: 9835)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:55:50 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/movies/index.html.erb:2
  Rendered movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2106)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 106)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 9026)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.3ms | Allocations: 9601)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 17:55:51 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/favorites/index.html.erb:2
  Rendered favorites/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 827)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 109)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 7535)
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 0.8ms | Allocations: 8571)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 17:59:18 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.2ms | Allocations: 1028)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1277)
  Rendered shared/_navbar.html.erb (Duration: 0.8ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 8611)
Completed 200 OK in 17ms (Views: 13.0ms | ActiveRecord: 0.8ms | Allocations: 10123)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:59:19 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.7ms | Allocations: 1948)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2131)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 9054)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.3ms | Allocations: 9630)


Started GET "/movies/1" for 127.0.0.1 at 2023-04-06 17:59:21 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 332)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 7179)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.3ms | Allocations: 8592)


Started GET "/favorites?movie_id=1" for 127.0.0.1 at 2023-04-06 17:59:22 +0900
Processing by FavoritesController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.8ms | Allocations: 848)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 915)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 104)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 7575)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.7ms | Allocations: 8611)


Started GET "/favorites?movie_id=1" for 127.0.0.1 at 2023-04-06 17:59:24 +0900
Processing by FavoritesController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.5ms | Allocations: 848)
  Rendered favorites/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 915)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 104)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 7575)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.5ms | Allocations: 8601)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 17:59:27 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.4ms | Allocations: 848)
  Rendered favorites/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 915)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 104)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 7575)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.4ms | Allocations: 8586)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:59:29 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.4ms | Allocations: 1929)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1996)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 9005)
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.4ms | Allocations: 9275)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 17:59:29 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.5ms | Allocations: 848)
  Rendered favorites/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 915)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 104)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 7701)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.4ms | Allocations: 8732)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 17:59:38 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.5ms | Allocations: 1929)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1996)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 8862)
Completed 200 OK in 14ms (Views: 13.6ms | ActiveRecord: 0.4ms | Allocations: 9132)


Started GET "/movies/1" for 127.0.0.1 at 2023-04-06 17:59:39 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 123)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 6951)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.3ms | Allocations: 7731)


Started GET "/favorites?movie_id=1" for 127.0.0.1 at 2023-04-06 17:59:40 +0900
Processing by FavoritesController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.5ms | Allocations: 848)
  Rendered favorites/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 915)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 104)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 7576)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.4ms | Allocations: 8607)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 17:59:58 +0900
Processing by FavoritesController#index as */*
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 256)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:00:02 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.2ms | Allocations: 1929)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1996)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 8846)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.4ms | Allocations: 9116)


Started GET "/movies/1" for 127.0.0.1 at 2023-04-06 18:00:05 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 123)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 6942)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.3ms | Allocations: 7722)


Started GET "/favorites?movie_id=1" for 127.0.0.1 at 2023-04-06 18:00:07 +0900
Processing by FavoritesController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.7ms | Allocations: 848)
  Rendered favorites/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 915)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 104)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 7804)
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 0.7ms | Allocations: 8806)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:01:38 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.9ms | Allocations: 2125)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2372)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 298)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 10043)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.4ms | Allocations: 10798)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:01:39 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.2ms | Allocations: 1929)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1996)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 8828)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.4ms | Allocations: 9098)


Started GET "/movies/1" for 127.0.0.1 at 2023-04-06 18:01:40 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 308)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 7131)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.3ms | Allocations: 7966)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 18:01:41 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:12:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `create'
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 1], ["created_at", "2023-04-06 09:01:41.548369"], ["updated_at", "2023-04-06 09:01:41.548369"]]
  ↳ app/controllers/favorites_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:12:in `create'
Redirected to http://localhost:3000/movies/1
Completed 302 Found in 30ms (ActiveRecord: 4.5ms | Allocations: 15380)


Started GET "/movies/1" for 127.0.0.1 at 2023-04-06 18:01:41 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.4ms | Allocations: 120)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 6968)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.3ms | Allocations: 7794)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:01:44 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.9ms | Allocations: 930)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1113)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 7892)
Completed 200 OK in 18ms (Views: 14.9ms | ActiveRecord: 0.6ms | Allocations: 9205)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:01:46 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.7ms | Allocations: 1929)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1996)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 9048)
Completed 200 OK in 13ms (Views: 12.7ms | ActiveRecord: 0.4ms | Allocations: 9320)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:04:39 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.4ms | Allocations: 3720)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3794)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 23767)
Completed 200 OK in 18ms (Views: 13.2ms | ActiveRecord: 3.2ms | Allocations: 25621)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 18:04:40 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 394)


Started GET "/" for 127.0.0.1 at 2023-04-06 18:04:41 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.6ms | Allocations: 274)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 7066)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms | Allocations: 7708)


Started GET "/login" for 127.0.0.1 at 2023-04-06 18:04:47 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2656)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 9371)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms | Allocations: 10166)


Started POST "/login" for 127.0.0.1 at 2023-04-06 18:04:51 +0900
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 200ms (ActiveRecord: 2.9ms | Allocations: 3796)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:04:52 +0900
Processing by MoviesController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.1ms | Allocations: 1930)
  Rendered movies/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2000)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 9072)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.3ms | Allocations: 9347)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:04:53 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.8ms | Allocations: 3582)
  Rendered favorites/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3656)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 10414)
Completed 200 OK in 19ms (Views: 12.5ms | ActiveRecord: 1.5ms | Allocations: 13885)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:04:55 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.8ms | Allocations: 1929)
  Rendered movies/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1996)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 8822)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.4ms | Allocations: 9093)


Started GET "/movies/16" for 127.0.0.1 at 2023-04-06 18:04:57 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 126)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 6949)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.3ms | Allocations: 8293)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 18:04:58 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:12:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 16], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:12:in `create'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 16], ["created_at", "2023-04-06 09:04:58.475816"], ["updated_at", "2023-04-06 09:04:58.475816"]]
  ↳ app/controllers/favorites_controller.rb:12:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:12:in `create'
Redirected to http://localhost:3000/movies/16
Completed 302 Found in 17ms (ActiveRecord: 7.2ms | Allocations: 6338)


Started GET "/movies/16" for 127.0.0.1 at 2023-04-06 18:04:58 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"16"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 119)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 6947)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 7730)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:04:59 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.1ms | Allocations: 946)
  Rendered favorites/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1013)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 7894)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.4ms | Allocations: 8902)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:05:01 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.7ms | Allocations: 1929)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1996)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 9026)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.4ms | Allocations: 9296)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:05:15 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.8ms | Allocations: 946)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1013)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 7664)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.5ms | Allocations: 8687)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:05:16 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.1ms | Allocations: 1929)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1996)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 8813)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.3ms | Allocations: 9083)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:12:35 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 8], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 9], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 10], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 11], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 12], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 13], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 14], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 15], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 16], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 17], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 18], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 19], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 20], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 21], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 22], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 23], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 24], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 25], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 26], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 27], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 28], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 29], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 30], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  Rendered shared/_movie_list.html.erb (Duration: 65.0ms | Allocations: 29134)
  Rendered movies/index.html.erb within layouts/application (Duration: 65.6ms | Allocations: 29381)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 299)
  Rendered layout layouts/application.html.erb (Duration: 83.2ms | Allocations: 40515)
Completed 200 OK in 85ms (Views: 84.3ms | ActiveRecord: 10.5ms | Allocations: 41268)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:12:41 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.7ms | Allocations: 1011)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1194)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 7930)
Completed 200 OK in 14ms (Views: 11.5ms | ActiveRecord: 0.7ms | Allocations: 9259)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:12:44 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 8], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 9], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 10], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 11], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 12], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 13], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 14], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 15], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 16], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 17], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 18], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 19], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 20], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 21], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 22], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 23], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 24], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 25], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 26], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 27], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 28], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 29], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 30], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  Rendered shared/_movie_list.html.erb (Duration: 55.1ms | Allocations: 25853)
  Rendered movies/index.html.erb within layouts/application (Duration: 55.3ms | Allocations: 25920)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 64.9ms | Allocations: 32801)
Completed 200 OK in 66ms (Views: 54.2ms | ActiveRecord: 11.1ms | Allocations: 33073)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:12:52 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.1ms | Allocations: 984)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1051)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 7785)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 0.8ms | Allocations: 8815)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:12:53 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 8], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 9], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 10], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 11], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 12], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 13], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 14], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 15], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 16], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 17], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 18], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 19], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 20], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 21], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 22], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 23], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 24], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 25], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 26], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 27], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 28], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 29], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 30], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  Rendered shared/_movie_list.html.erb (Duration: 55.1ms | Allocations: 25820)
  Rendered movies/index.html.erb within layouts/application (Duration: 55.2ms | Allocations: 25887)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 63.4ms | Allocations: 32769)
Completed 200 OK in 64ms (Views: 51.6ms | ActiveRecord: 12.2ms | Allocations: 33039)


Started GET "/movies/10" for 127.0.0.1 at 2023-04-06 18:13:17 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 311)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 7359)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.4ms | Allocations: 8197)


Started GET "/movies/11" for 127.0.0.1 at 2023-04-06 18:13:21 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 119)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 6918)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.4ms | Allocations: 7698)


Started GET "/movies/14" for 127.0.0.1 at 2023-04-06 18:13:26 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:14:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 121)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 6920)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.3ms | Allocations: 7700)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:13:28 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.2ms | Allocations: 984)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1051)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 7700)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.8ms | Allocations: 8716)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:13:29 +0900
Processing by MoviesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 8], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 9], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 10], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 11], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 12], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 13], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 14], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 15], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 16], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 17], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 18], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 19], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 20], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 21], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 22], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 23], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 24], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 25], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 26], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 27], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 28], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 29], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 30], ["LIMIT", 1]]
  ↳ app/views/shared/_movie_list.html.erb:4
  Rendered shared/_movie_list.html.erb (Duration: 52.8ms | Allocations: 25826)
  Rendered movies/index.html.erb within layouts/application (Duration: 53.2ms | Allocations: 25893)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 61.0ms | Allocations: 32768)
Completed 200 OK in 62ms (Views: 50.5ms | ActiveRecord: 10.9ms | Allocations: 33038)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:18:20 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.3ms | Allocations: 3894)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 4144)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 302)
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 24531)
Completed 200 OK in 35ms (Views: 19.0ms | ActiveRecord: 8.5ms | Allocations: 35082)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:23:56 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.1ms | Allocations: 3559)
  Rendered movies/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3806)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 3894)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 4.0ms | Allocations: 16567)


  
ActionView::Template::Error (undefined method `favorites_toggle_path' for #<ActionView::Base:0x0000000003ebe8>):
    3:     <li class="flex items-center">
    4:       <% is_favorite = @favorited_movie_ids.include?(movie.id) %>
    5: 
    6:       <%= link_to(favorites_toggle_path(movie_id: movie.id), data: { "turbo-method": :post }, remote: true, class: "mr-2") do %>
    7:         <span class="<%= is_favorite ? 'text-yellow-500' : 'text-gray-400' %>">
    8:           <svg xmlns="http://www.w3.org/2000/svg" fill="<%= is_favorite ? 'currentColor' : 'none' %>" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
    9:             <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" />
  
app/views/shared/_movie_list.html.erb:6
app/views/shared/_movie_list.html.erb:2
app/views/movies/index.html.erb:1
Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:24:21 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.1ms | Allocations: 5326)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 5798)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 5898)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 4.6ms | Allocations: 26075)


  
ActionView::Template::Error (undefined method `favorites_toggle_path' for #<ActionView::Base:0x0000000000b838>):
    3:     <li class="flex items-center">
    4:       <% is_favorite = @favorited_movie_ids.include?(movie.id) %>
    5: 
    6:       <%= link_to(favorites_toggle_path(movie_id: movie.id), data: { "turbo-method": :post }, remote: true, class: "mr-2") do %>
    7:         <span class="<%= is_favorite ? 'text-yellow-500' : 'text-gray-400' %>">
    8:           <svg xmlns="http://www.w3.org/2000/svg" fill="<%= is_favorite ? 'currentColor' : 'none' %>" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
    9:             <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" />
  
app/views/shared/_movie_list.html.erb:6
app/views/shared/_movie_list.html.erb:2
app/views/movies/index.html.erb:1
Started GET "/" for 127.0.0.1 at 2023-04-06 18:24:25 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.7ms | Allocations: 360)
  Rendered layout layouts/application.html.erb (Duration: 63.5ms | Allocations: 59594)
Completed 200 OK in 65ms (Views: 64.5ms | ActiveRecord: 0.0ms | Allocations: 60319)


Started GET "/login" for 127.0.0.1 at 2023-04-06 18:24:27 +0900
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
Redirected to http://localhost:3000/movies
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 948)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:24:27 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.9ms | Allocations: 2060)
  Rendered movies/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2129)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2217)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.9ms | Allocations: 3968)


  
ActionView::Template::Error (undefined method `favorites_toggle_path' for #<ActionView::Base:0x0000000000c0a8>):
    3:     <li class="flex items-center">
    4:       <% is_favorite = @favorited_movie_ids.include?(movie.id) %>
    5: 
    6:       <%= link_to(favorites_toggle_path(movie_id: movie.id), data: { "turbo-method": :post }, remote: true, class: "mr-2") do %>
    7:         <span class="<%= is_favorite ? 'text-yellow-500' : 'text-gray-400' %>">
    8:           <svg xmlns="http://www.w3.org/2000/svg" fill="<%= is_favorite ? 'currentColor' : 'none' %>" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
    9:             <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" />
  
app/views/shared/_movie_list.html.erb:6
app/views/shared/_movie_list.html.erb:2
app/views/movies/index.html.erb:1
Started GET "/login" for 127.0.0.1 at 2023-04-06 18:26:20 +0900
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
Redirected to http://localhost:3000/movies
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 847)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:26:20 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.5ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 8.3ms | Allocations: 5551)
  Rendered movies/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 5798)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 310)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 13318)
Completed 200 OK in 28ms (Views: 20.2ms | ActiveRecord: 1.2ms | Allocations: 15579)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:26:22 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:28:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 2], ["created_at", "2023-04-06 09:26:22.148021"], ["updated_at", "2023-04-06 09:26:22.148021"]]
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 21ms (ActiveRecord: 4.5ms | Allocations: 11412)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:26:22 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.3ms | Allocations: 5140)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 5253)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 11900)
Completed 200 OK in 18ms (Views: 14.0ms | ActiveRecord: 1.0ms | Allocations: 13719)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:26:23 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:28:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 7], ["created_at", "2023-04-06 09:26:23.681243"], ["updated_at", "2023-04-06 09:26:23.681243"]]
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 12ms (ActiveRecord: 5.3ms | Allocations: 5889)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:26:23 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.7ms | Allocations: 5139)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 5209)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 11857)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.6ms | Allocations: 13615)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:26:24 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:28:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 10], ["created_at", "2023-04-06 09:26:24.713484"], ["updated_at", "2023-04-06 09:26:24.713484"]]
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 15ms (ActiveRecord: 5.9ms | Allocations: 5890)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:26:24 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.0ms | Allocations: 5139)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 5209)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 12079)
Completed 200 OK in 19ms (Views: 15.3ms | ActiveRecord: 1.0ms | Allocations: 13862)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:26:26 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:28:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:31:in `toggle'
  [1m[36mFavorite Destroy (3.8ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/favorites_controller.rb:31:in `toggle'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:31:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 12ms (ActiveRecord: 5.6ms | Allocations: 3312)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:26:26 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.1ms | Allocations: 5139)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 5209)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 11856)
Completed 200 OK in 19ms (Views: 15.0ms | ActiveRecord: 0.8ms | Allocations: 13638)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:26:27 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  Rendered shared/_movie_list.html.erb (Duration: 0.6ms | Allocations: 1113)
  Rendered favorites/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1305)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1393)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms | Allocations: 3510)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    1: <ul class="space-y-2">
    2:   <% movies.each do |movie| %>
    3:     <li class="flex items-center">
    4:       <% is_favorite = @favorited_movie_ids.include?(movie.id) %>
    5: 
  
app/views/shared/_movie_list.html.erb:2
app/views/favorites/index.html.erb:1
Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:26:58 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.0ms | Allocations: 2700)
  Rendered favorites/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2944)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 299)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 10444)
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 0.9ms | Allocations: 12720)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:27:00 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:28:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:31:in `toggle'
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/favorites_controller.rb:31:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:31:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 10ms (ActiveRecord: 5.1ms | Allocations: 3226)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:27:00 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.1ms | Allocations: 5165)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 5394)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 12128)
Completed 200 OK in 19ms (Views: 14.7ms | ActiveRecord: 0.8ms | Allocations: 14272)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:27:02 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.2ms | Allocations: 1199)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1266)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 7915)
Completed 200 OK in 14ms (Views: 9.9ms | ActiveRecord: 1.0ms | Allocations: 9715)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:27:58 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.8ms | Allocations: 3389)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 3463)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 23503)
Completed 200 OK in 28ms (Views: 12.8ms | ActiveRecord: 7.1ms | Allocations: 33630)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:28:00 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 5.0ms | Allocations: 5210)
  Rendered movies/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 5284)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 12171)
Completed 200 OK in 19ms (Views: 15.9ms | ActiveRecord: 0.8ms | Allocations: 14277)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:28:01 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 4], ["created_at", "2023-04-06 09:28:01.383905"], ["updated_at", "2023-04-06 09:28:01.383905"]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
No template found for FavoritesController#toggle, rendering head :no_content
Completed 204 No Content in 23ms (ActiveRecord: 8.2ms | Allocations: 8877)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:28:02 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 7], ["created_at", "2023-04-06 09:28:02.743024"], ["updated_at", "2023-04-06 09:28:02.743024"]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
No template found for FavoritesController#toggle, rendering head :no_content
Completed 204 No Content in 12ms (ActiveRecord: 2.8ms | Allocations: 5908)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:28:03 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.7ms | Allocations: 1503)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1570)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 8353)
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 1.0ms | Allocations: 10115)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:44:07 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.0ms | Allocations: 3726)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 3800)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 23841)
Completed 200 OK in 35ms (Views: 14.2ms | ActiveRecord: 3.6ms | Allocations: 36303)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:44:08 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.9ms | Allocations: 5210)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 5284)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 12037)
Completed 200 OK in 20ms (Views: 15.9ms | ActiveRecord: 1.0ms | Allocations: 14139)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:44:10 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"11"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 11], ["created_at", "2023-04-06 09:44:10.919368"], ["updated_at", "2023-04-06 09:44:10.919368"]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 19ms (ActiveRecord: 6.1ms | Allocations: 8655)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:44:10 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.4ms | Allocations: 5139)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 5209)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 12075)
Completed 200 OK in 23ms (Views: 19.0ms | ActiveRecord: 0.9ms | Allocations: 13862)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:44:12 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"11"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:32:in `toggle'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 8]]
  ↳ app/controllers/favorites_controller.rb:32:in `toggle'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:32:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 8ms (ActiveRecord: 1.8ms | Allocations: 3249)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:44:12 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.7ms | Allocations: 5139)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 5209)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 12075)
Completed 200 OK in 18ms (Views: 14.5ms | ActiveRecord: 0.9ms | Allocations: 13870)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:44:13 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:32:in `toggle'
  [1m[36mFavorite Destroy (0.2ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/favorites_controller.rb:32:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:32:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 10ms (ActiveRecord: 4.9ms | Allocations: 3211)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:44:13 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.5ms | Allocations: 5139)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 5209)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 11856)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 0.7ms | Allocations: 13635)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:44:14 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.7ms | Allocations: 1351)
  Rendered favorites/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1418)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 8067)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 1.0ms | Allocations: 9858)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:44:15 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.4ms | Allocations: 5139)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 5206)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 11853)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 0.9ms | Allocations: 13632)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:44:16 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 10], ["created_at", "2023-04-06 09:44:16.421483"], ["updated_at", "2023-04-06 09:44:16.421483"]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 18ms (ActiveRecord: 5.9ms | Allocations: 5886)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:44:16 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.0ms | Allocations: 5139)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 5209)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 12079)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 0.7ms | Allocations: 13859)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 18:44:17 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"13"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 13], ["created_at", "2023-04-06 09:44:17.419263"], ["updated_at", "2023-04-06 09:44:17.419263"]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 13ms (ActiveRecord: 2.7ms | Allocations: 5890)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:44:17 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.5ms | Allocations: 5139)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 5209)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 11857)
Completed 200 OK in 19ms (Views: 14.8ms | ActiveRecord: 0.8ms | Allocations: 13647)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:44:18 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.9ms | Allocations: 1655)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1722)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 8371)
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 1.1ms | Allocations: 10160)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:44:20 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.4ms | Allocations: 5139)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 5206)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 11853)
Completed 200 OK in 18ms (Views: 14.0ms | ActiveRecord: 0.9ms | Allocations: 13640)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 18:47:59 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.8ms | Allocations: 1655)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1722)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 8483)
Completed 200 OK in 18ms (Views: 13.5ms | ActiveRecord: 1.1ms | Allocations: 10269)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:48:00 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.3ms | Allocations: 5139)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 5206)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 11966)
Completed 200 OK in 20ms (Views: 15.3ms | ActiveRecord: 0.9ms | Allocations: 13744)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 18:56:13 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.4ms | Allocations: 6716)
  Rendered movies/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 8513)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 28843)
Completed 200 OK in 36ms (Views: 16.0ms | ActiveRecord: 3.8ms | Allocations: 41601)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 18:56:17 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.2ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 6367)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 13080)
Completed 200 OK in 24ms (Views: 19.7ms | ActiveRecord: 1.1ms | Allocations: 14888)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 18:56:22 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.7ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 6519)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 13883)
Completed 200 OK in 24ms (Views: 18.8ms | ActiveRecord: 1.0ms | Allocations: 16164)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 18:56:40 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.9ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 7372)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 14622)
Completed 200 OK in 24ms (Views: 18.9ms | ActiveRecord: 1.1ms | Allocations: 16892)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 18:56:45 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.3ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 6517)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 13767)
Completed 200 OK in 23ms (Views: 18.4ms | ActiveRecord: 1.0ms | Allocations: 16019)


Started GET "/movies?query=Scary&commit=Search" for 127.0.0.1 at 2023-04-06 18:56:54 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Scary", "commit"=>"Search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE (title ILIKE '%Scary%')[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.1ms | Allocations: 1679)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2774)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 10024)
Completed 200 OK in 19ms (Views: 13.7ms | ActiveRecord: 1.4ms | Allocations: 12351)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 18:56:57 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.2ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 5928)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 12567)
Completed 200 OK in 18ms (Views: 14.2ms | ActiveRecord: 0.8ms | Allocations: 14342)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 18:59:32 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.8ms | Allocations: 5428)
  Rendered movies/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 6586)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 15228)
Completed 200 OK in 28ms (Views: 23.7ms | ActiveRecord: 0.8ms | Allocations: 17494)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:00:29 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 8.2ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 6577)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 14993)
Completed 200 OK in 28ms (Views: 23.7ms | ActiveRecord: 0.7ms | Allocations: 17254)


Started GET "/movies?query=Test&commit=Search" for 127.0.0.1 at 2023-04-06 19:00:34 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Test", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE (title ILIKE '%Test%')[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.2ms | Allocations: 608)
  Rendered movies/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1449)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 8088)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 0.9ms | Allocations: 9878)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:00:38 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.5ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 5971)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 12610)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 1.0ms | Allocations: 14405)


Started GET "/movies?query=Scary&commit=Search" for 127.0.0.1 at 2023-04-06 19:00:41 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Scary", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE (title ILIKE '%Scary%')[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.1ms | Allocations: 1369)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2210)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 8849)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 0.8ms | Allocations: 10650)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:00:44 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.7ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 5971)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 12834)
Completed 200 OK in 20ms (Views: 16.2ms | ActiveRecord: 1.0ms | Allocations: 14614)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:01:18 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.0ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 6582)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 13866)
Completed 200 OK in 23ms (Views: 17.8ms | ActiveRecord: 1.0ms | Allocations: 16129)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:01:25 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.0ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 6576)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 13826)
Completed 200 OK in 22ms (Views: 17.9ms | ActiveRecord: 0.9ms | Allocations: 16096)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:01:47 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.4ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 6577)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 15001)
Completed 200 OK in 28ms (Views: 22.4ms | ActiveRecord: 0.9ms | Allocations: 17280)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:01:51 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.5ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 6576)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 14999)
Completed 200 OK in 26ms (Views: 22.1ms | ActiveRecord: 0.8ms | Allocations: 17269)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:01:55 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.9ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 6580)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 15228)
Completed 200 OK in 29ms (Views: 24.1ms | ActiveRecord: 0.9ms | Allocations: 17504)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:02:00 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.4ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 6577)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | Allocations: 15000)
Completed 200 OK in 28ms (Views: 23.2ms | ActiveRecord: 0.8ms | Allocations: 17249)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:02:04 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.2ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 6576)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 14985)
Completed 200 OK in 27ms (Views: 22.7ms | ActiveRecord: 0.9ms | Allocations: 17270)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:02:09 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.0ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 6577)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 14993)
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 0.8ms | Allocations: 17254)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:02:13 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 8.5ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 6582)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 29.5ms | Allocations: 15224)
Completed 200 OK in 35ms (Views: 30.8ms | ActiveRecord: 0.8ms | Allocations: 17503)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:02:29 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.2ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 6562)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 13812)
Completed 200 OK in 23ms (Views: 18.6ms | ActiveRecord: 0.8ms | Allocations: 16085)


Started GET "/movies?query=Test&commit=Search" for 127.0.0.1 at 2023-04-06 19:02:32 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Test", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE (title ILIKE '%Test%')[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.2ms | Allocations: 608)
  Rendered movies/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1439)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 8078)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 0.9ms | Allocations: 9868)


Started GET "/movies?query=Test&commit=Search" for 127.0.0.1 at 2023-04-06 19:02:52 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Test", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE (title ILIKE '%Test%')[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.6ms | Allocations: 895)
  Rendered movies/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 2030)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 301)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 9284)
Completed 200 OK in 17ms (Views: 12.7ms | ActiveRecord: 0.8ms | Allocations: 11571)


Started GET "/movies?query=Test&commit=Search" for 127.0.0.1 at 2023-04-06 19:02:57 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Test", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE (title ILIKE '%Test%')[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.9ms | Allocations: 895)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2031)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 301)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 9285)
Completed 200 OK in 18ms (Views: 12.6ms | ActiveRecord: 0.9ms | Allocations: 11573)


Started GET "/movies?query=Test&commit=Search" for 127.0.0.1 at 2023-04-06 19:03:07 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Test", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE (title ILIKE '%Test%')[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.7ms | Allocations: 895)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2035)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 301)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 10666)
Completed 200 OK in 22ms (Views: 17.8ms | ActiveRecord: 0.9ms | Allocations: 12960)


Started GET "/movies?query=Test&commit=Search" for 127.0.0.1 at 2023-04-06 19:03:14 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Test", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE (title ILIKE '%Test%')[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.0ms | Allocations: 895)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2031)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 301)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 10559)
Completed 200 OK in 21ms (Views: 16.4ms | ActiveRecord: 1.1ms | Allocations: 12880)


Started GET "/movies?query=Test&commit=Search" for 127.0.0.1 at 2023-04-06 19:03:17 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Test", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE (title ILIKE '%Test%')[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.9ms | Allocations: 895)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2031)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 301)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 10451)
Completed 200 OK in 21ms (Views: 16.6ms | ActiveRecord: 0.9ms | Allocations: 12742)


Started GET "/movies?query=Test&commit=Search" for 127.0.0.1 at 2023-04-06 19:03:23 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Test", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE (title ILIKE '%Test%')[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.9ms | Allocations: 895)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2032)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 301)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 10459)
Completed 200 OK in 21ms (Views: 16.6ms | ActiveRecord: 0.9ms | Allocations: 12750)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:03:28 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 9.1ms | Allocations: 5136)
  Rendered movies/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 5967)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 12830)
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 0.7ms | Allocations: 14617)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 19:03:35 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.6ms | Allocations: 2647)
  Rendered favorites/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2835)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 9716)
Completed 200 OK in 17ms (Views: 12.5ms | ActiveRecord: 0.9ms | Allocations: 11942)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 19:03:36 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 9.9ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 12593)
Completed 200 OK in 24ms (Views: 19.9ms | ActiveRecord: 0.9ms | Allocations: 14382)


Started GET "/movies?query=Scary&commit=Search" for 127.0.0.1 at 2023-04-06 19:03:38 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Scary", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE (title ILIKE '%Scary%')[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.2ms | Allocations: 1369)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2200)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 8839)
Completed 200 OK in 15ms (Views: 10.6ms | ActiveRecord: 0.9ms | Allocations: 10649)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:03:41 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.5ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 5959)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 12598)
Completed 200 OK in 19ms (Views: 14.7ms | ActiveRecord: 0.8ms | Allocations: 14381)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:40:20 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.7ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.3ms | Allocations: 8217)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 9822)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 310)
  Rendered layout layouts/application.html.erb (Duration: 73.8ms | Allocations: 69753)
Completed 200 OK in 106ms (Views: 75.2ms | ActiveRecord: 7.7ms | Allocations: 90782)


  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
Started GET "/movies?query=Lego&commit=Search" for 127.0.0.1 at 2023-04-06 19:40:50 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Lego", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" IN ($1, $2, $3)[0m  [["id", 1], ["id", 20], ["id", 7]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 741.8ms | Allocations: 7046)
  Rendered movies/index.html.erb within layouts/application (Duration: 743.0ms | Allocations: 8649)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 312)
  Rendered layout layouts/application.html.erb (Duration: 834.1ms | Allocations: 60344)
Completed 200 OK in 860ms (Views: 835.2ms | ActiveRecord: 5.8ms | Allocations: 81457)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:40:56 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.1ms | Allocations: 5167)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 6001)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 12643)
Completed 200 OK in 21ms (Views: 16.2ms | ActiveRecord: 1.1ms | Allocations: 14428)


Started GET "/movies?query=Scary&commit=Search" for 127.0.0.1 at 2023-04-06 19:40:59 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Scary", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" IN ($1, $2, $3, $4, $5)[0m  [["id", 3], ["id", 6], ["id", 8], ["id", 9], ["id", 18]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 11.7ms | Allocations: 2569)
  Rendered movies/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 3400)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 10040)
Completed 200 OK in 21ms (Views: 16.5ms | ActiveRecord: 0.9ms | Allocations: 11863)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:41:02 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.9ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 5960)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 12600)
Completed 200 OK in 22ms (Views: 17.6ms | ActiveRecord: 1.0ms | Allocations: 14415)


Started GET "/movies?query=Movie&commit=Search" for 127.0.0.1 at 2023-04-06 19:41:05 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Movie", "commit"=>"Search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["id", 3], ["id", 5], ["id", 11], ["id", 12], ["id", 16], ["id", 19], ["id", 23], ["id", 1], ["id", 2], ["id", 6]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 11.6ms | Allocations: 3672)
  Rendered movies/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 4503)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 11143)
Completed 200 OK in 22ms (Views: 17.5ms | ActiveRecord: 1.1ms | Allocations: 12964)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 19:41:09 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 5.2ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 5959)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 12598)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 0.8ms | Allocations: 14381)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 19:41:39 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 5.9ms | Allocations: 2694)
  Rendered favorites/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2881)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | Allocations: 9865)
Completed 200 OK in 25ms (Views: 20.3ms | ActiveRecord: 1.1ms | Allocations: 12072)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 19:41:41 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.8ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.7ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 12594)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 1.2ms | Allocations: 14374)


Started GET "/movies/1" for 127.0.0.1 at 2023-04-06 19:53:05 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 319)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 7146)
Completed 200 OK in 28ms (Views: 9.8ms | ActiveRecord: 3.3ms | Allocations: 11531)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 19:53:16 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"11"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 11], ["created_at", "2023-04-06 10:53:16.338565"], ["updated_at", "2023-04-06 10:53:16.338565"]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 19ms (ActiveRecord: 6.2ms | Allocations: 11340)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 19:53:16 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.5ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.9ms | Allocations: 5130)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 5999)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 12638)
Completed 200 OK in 20ms (Views: 15.4ms | ActiveRecord: 1.1ms | Allocations: 14486)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 19:53:17 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"11"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:32:in `toggle'
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 11]]
  ↳ app/controllers/favorites_controller.rb:32:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:32:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 12ms (ActiveRecord: 5.5ms | Allocations: 3319)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 19:53:17 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.2ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 5956)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 12595)
Completed 200 OK in 18ms (Views: 14.5ms | ActiveRecord: 0.8ms | Allocations: 14383)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 19:53:19 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.8ms | Allocations: 1657)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1724)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 8373)
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 1.2ms | Allocations: 10192)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 19:53:21 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.5ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.1ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 12823)
Completed 200 OK in 25ms (Views: 16.0ms | ActiveRecord: 1.2ms | Allocations: 14627)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 19:53:25 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  Rendered movies/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 120)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 6938)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.4ms | Allocations: 7719)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 19:57:56 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2122)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 299)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | Allocations: 13602)
Completed 200 OK in 31ms (Views: 28.2ms | ActiveRecord: 1.3ms | Allocations: 14866)


Started GET "/favorites/2" for 127.0.0.1 at 2023-04-06 19:58:04 +0900
  
ActionController::RoutingError (No route matches [GET] "/favorites/2"):
  
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 19:59:10 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2046)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 300)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 9532)
Completed 200 OK in 18ms (Views: 15.1ms | ActiveRecord: 1.1ms | Allocations: 10799)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 19:59:11 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1761)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 8576)
Completed 200 OK in 14ms (Views: 11.5ms | ActiveRecord: 1.1ms | Allocations: 9356)


Started DELETE "/favorites/2" for 127.0.0.1 at 2023-04-06 19:59:13 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" IS NULL LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms | Allocations: 1965)


  
NoMethodError (undefined method `destory' for nil:NilClass):
  
app/controllers/favorites_controller.rb:23:in `destroy'
Started GET "/movies" for 127.0.0.1 at 2023-04-06 19:59:19 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.5ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 12.5ms | Allocations: 5422)
  Rendered movies/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 6532)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 13399)
Completed 200 OK in 28ms (Views: 24.2ms | ActiveRecord: 1.0ms | Allocations: 15238)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 19:59:21 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.5ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.8ms | Allocations: 1681)
  Rendered favorites/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1867)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 8603)
Completed 200 OK in 19ms (Views: 13.2ms | ActiveRecord: 1.3ms | Allocations: 10716)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 19:59:24 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1743)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 8383)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 1.0ms | Allocations: 9164)


Started DELETE "/favorites/2" for 127.0.0.1 at 2023-04-06 19:59:25 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" IS NULL LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.6ms | Allocations: 1955)


  
NoMethodError (undefined method `destory' for nil:NilClass):
  
app/controllers/favorites_controller.rb:23:in `destroy'
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:01:14 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 8959)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 299)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 29525)
Completed 200 OK in 28ms (Views: 17.6ms | ActiveRecord: 4.7ms | Allocations: 35304)


Started DELETE "/favorites/2" for 127.0.0.1 at 2023-04-06 20:01:16 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:24:in `destroy'
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" IS NULL LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:24:in `destroy'
Completed 500 Internal Server Error in 38477ms (ActiveRecord: 2.7ms | Allocations: 72490)


  
NoMethodError (undefined method `destory' for nil:NilClass):
  
app/controllers/favorites_controller.rb:24:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:01:55 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 5.3ms | Allocations: 2977)
  Rendered favorites/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3221)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 302)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 10731)
Completed 200 OK in 26ms (Views: 21.7ms | ActiveRecord: 1.0ms | Allocations: 13081)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:01:55 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.4ms | Allocations: 1655)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1722)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 8446)
Completed 200 OK in 18ms (Views: 14.1ms | ActiveRecord: 0.8ms | Allocations: 10221)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:01:57 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2064)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 8816)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.6ms | Allocations: 9901)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:02:07 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2063)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 298)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 9317)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 1.1ms | Allocations: 10581)


Started DELETE "/favorites" for 127.0.0.1 at 2023-04-06 20:02:08 +0900
  
ActionController::RoutingError (No route matches [DELETE] "/favorites"):
  
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:02:08 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1762)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 8630)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.6ms | Allocations: 9410)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:02:11 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.1ms | Allocations: 1966)
  Rendered favorites/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2209)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 8945)
Completed 200 OK in 20ms (Views: 14.3ms | ActiveRecord: 1.3ms | Allocations: 11052)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:02:12 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1786)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 8426)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.9ms | Allocations: 9208)


Started DELETE "/favorites" for 127.0.0.1 at 2023-04-06 20:02:21 +0900
  
ActionController::RoutingError (No route matches [DELETE] "/favorites"):
  
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:02:21 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1804)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 8672)
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 0.8ms | Allocations: 9451)


Started DELETE "/favorites" for 127.0.0.1 at 2023-04-06 20:02:44 +0900
  
ActionController::RoutingError (No route matches [DELETE] "/favorites"):
  
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:02:44 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 11.1ms | Allocations: 8978)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 302)
  Rendered layout layouts/application.html.erb (Duration: 28.1ms | Allocations: 29549)
Completed 200 OK in 37ms (Views: 26.4ms | ActiveRecord: 4.4ms | Allocations: 35162)


Started DELETE "/favorites/2" for 127.0.0.1 at 2023-04-06 20:05:49 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"movie_id"=>"2", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.2ms | Allocations: 3810)


  
NoMethodError (undefined method `destory' for #<Favorite id: 3, user_id: 2, movie_id: 2, created_at: "2023-04-06 09:26:22.148021000 +0000", updated_at: "2023-04-06 09:26:22.148021000 +0000">):
  
app/controllers/favorites_controller.rb:23:in `destroy'
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:06:18 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 11.0ms | Allocations: 8977)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 298)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 29542)
Completed 200 OK in 33ms (Views: 19.7ms | ActiveRecord: 6.7ms | Allocations: 35208)


Started DELETE "/favorites" for 127.0.0.1 at 2023-04-06 20:06:20 +0900
  
ActionController::RoutingError (No route matches [DELETE] "/favorites"):
  
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:06:20 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1778)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 8646)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 1.0ms | Allocations: 9425)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:08:21 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2028)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 302)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 9362)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.6ms | Allocations: 10625)


Started DELETE "/favorites/2" for 127.0.0.1 at 2023-04-06 20:08:22 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" IS NULL LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.5ms | Allocations: 2101)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/favorites_controller.rb:23:in `destroy'
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:08:50 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 8692)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 28730)
Completed 200 OK in 29ms (Views: 17.9ms | ActiveRecord: 4.8ms | Allocations: 34135)


Started DELETE "/favorites/2" for 127.0.0.1 at 2023-04-06 20:08:52 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" IS NULL LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:24:in `destroy'
Completed 500 Internal Server Error in 21320ms (ActiveRecord: 0.7ms | Allocations: 26793)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/favorites_controller.rb:24:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:09:26 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.8ms | Allocations: 4131)
  Rendered favorites/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 4380)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 24428)
Completed 200 OK in 34ms (Views: 14.9ms | ActiveRecord: 7.5ms | Allocations: 35384)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:09:27 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.6ms | Allocations: 1655)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1722)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 8371)
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 0.7ms | Allocations: 10152)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:09:28 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1869)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 8615)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.6ms | Allocations: 10288)


Started DELETE "/favorites/2" for 127.0.0.1 at 2023-04-06 20:09:29 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mFavorite Destroy (0.2ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Redirected to http://localhost:3000/movies
Completed 302 Found in 14ms (ActiveRecord: 5.5ms | Allocations: 4997)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:09:29 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.4ms | Allocations: 5158)
  Rendered movies/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 6258)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 13125)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.5ms | Allocations: 15023)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:09:31 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 1.9ms | Allocations: 1503)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1570)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 8219)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.6ms | Allocations: 10003)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:09:42 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.1ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.1ms | Allocations: 3694)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3768)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 23655)
Completed 200 OK in 35ms (Views: 18.3ms | ActiveRecord: 6.4ms | Allocations: 34554)


Started GET "/movies/10" for 127.0.0.1 at 2023-04-06 20:09:44 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 10], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1869)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 8720)
Completed 200 OK in 18ms (Views: 14.1ms | ActiveRecord: 1.0ms | Allocations: 10395)


Started DELETE "/favorites/10" for 127.0.0.1 at 2023-04-06 20:09:44 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mFavorite Destroy (0.2ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 9]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Redirected to http://localhost:3000/favorites
Completed 302 Found in 15ms (ActiveRecord: 6.3ms | Allocations: 5044)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:09:44 +0900
Processing by FavoritesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.2ms | Allocations: 1351)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1421)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 8070)
Completed 200 OK in 15ms (Views: 11.3ms | ActiveRecord: 0.6ms | Allocations: 9846)


Started GET "/movies/16" for 127.0.0.1 at 2023-04-06 20:09:45 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 16], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1742)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 8382)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.9ms | Allocations: 9162)


Started DELETE "/favorites/16" for 127.0.0.1 at 2023-04-06 20:09:46 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"16"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 16], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Redirected to http://localhost:3000/favorites
Completed 302 Found in 10ms (ActiveRecord: 4.8ms | Allocations: 3209)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:09:46 +0900
Processing by FavoritesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.2ms | Allocations: 1200)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1270)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 7919)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 0.6ms | Allocations: 9693)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:09:49 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.9ms | Allocations: 5158)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 6011)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 12879)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 0.8ms | Allocations: 14670)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 20:09:51 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 9], ["created_at", "2023-04-06 11:09:51.259719"], ["updated_at", "2023-04-06 11:09:51.259719"]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 17ms (ActiveRecord: 5.2ms | Allocations: 7037)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:09:51 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.3ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 5955)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 12716)
Completed 200 OK in 21ms (Views: 17.1ms | ActiveRecord: 0.7ms | Allocations: 14491)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 20:09:51 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 8], ["created_at", "2023-04-06 11:09:51.769620"], ["updated_at", "2023-04-06 11:09:51.769620"]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 16ms (ActiveRecord: 5.3ms | Allocations: 5904)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:09:51 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.6ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 5956)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 12595)
Completed 200 OK in 22ms (Views: 17.3ms | ActiveRecord: 0.8ms | Allocations: 14394)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 20:09:53 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"11"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 11], ["created_at", "2023-04-06 11:09:53.463862"], ["updated_at", "2023-04-06 11:09:53.463862"]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 11ms (ActiveRecord: 4.9ms | Allocations: 5898)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:09:53 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.1ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 5957)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 12826)
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.6ms | Allocations: 14608)


Started GET "/movies?query=Sponge&commit=Search" for 127.0.0.1 at 2023-04-06 20:09:57 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"Sponge", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 25]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 11.4ms | Allocations: 1730)
  Rendered movies/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 2561)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 9228)
Completed 200 OK in 27ms (Views: 22.1ms | ActiveRecord: 0.7ms | Allocations: 11038)


Started GET "/movies?query=sponge&commit=Search" for 127.0.0.1 at 2023-04-06 20:10:00 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"sponge", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 25]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 10.8ms | Allocations: 1695)
  Rendered movies/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 2526)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 9166)
Completed 200 OK in 26ms (Views: 21.1ms | ActiveRecord: 0.9ms | Allocations: 10979)


Started GET "/movies?query=&commit=Search" for 127.0.0.1 at 2023-04-06 20:10:03 +0900
Processing by MoviesController#index as HTML
  Parameters: {"query"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.2ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 5959)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 12598)
Completed 200 OK in 21ms (Views: 16.8ms | ActiveRecord: 0.8ms | Allocations: 14381)


Started GET "/movies/3" for 127.0.0.1 at 2023-04-06 20:11:09 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1787)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 8427)
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 0.8ms | Allocations: 9207)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 20:11:10 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 3], ["created_at", "2023-04-06 11:11:10.627735"], ["updated_at", "2023-04-06 11:11:10.627735"]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
Redirected to http://localhost:3000/movies/3
Completed 302 Found in 13ms (ActiveRecord: 5.3ms | Allocations: 4429)


Started GET "/movies/3" for 127.0.0.1 at 2023-04-06 20:11:10 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1752)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 8621)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.6ms | Allocations: 9404)


Started DELETE "/favorites/3" for 127.0.0.1 at 2023-04-06 20:11:12 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 15]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Redirected to http://localhost:3000/favorites
Completed 302 Found in 11ms (ActiveRecord: 5.0ms | Allocations: 3194)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:11:12 +0900
Processing by FavoritesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.7ms | Allocations: 1653)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1723)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 8585)
Completed 200 OK in 16ms (Views: 12.1ms | ActiveRecord: 0.8ms | Allocations: 10375)


Started GET "/movies/4" for 127.0.0.1 at 2023-04-06 20:11:31 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 10.8ms | Allocations: 8672)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 28554)
Completed 200 OK in 35ms (Views: 22.0ms | ActiveRecord: 7.4ms | Allocations: 33906)


Started DELETE "/favorites/4" for 127.0.0.1 at 2023-04-06 20:11:32 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  Rendering layout layouts/application.html.erb
  Rendering favorites/destroy.html.erb within layouts/application
  Rendered favorites/destroy.html.erb within layouts/application (Duration: 0.3ms | Allocations: 114)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 128)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 7105)
Completed 200 OK in 21ms (Views: 10.2ms | ActiveRecord: 3.2ms | Allocations: 12621)


Started GET "/movies/4" for 127.0.0.1 at 2023-04-06 20:11:34 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1773)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 8413)
Completed 200 OK in 15ms (Views: 12.3ms | ActiveRecord: 1.0ms | Allocations: 9192)


Started GET "/movies/4" for 127.0.0.1 at 2023-04-06 20:11:49 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 25.8ms | Allocations: 8679)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 71.1ms | Allocations: 28555)
Completed 200 OK in 80ms (Views: 69.4ms | ActiveRecord: 4.4ms | Allocations: 33902)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 20:11:50 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 4], ["created_at", "2023-04-06 11:11:50.901322"], ["updated_at", "2023-04-06 11:11:50.901322"]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
Redirected to http://localhost:3000/movies/4
Completed 302 Found in 17ms (ActiveRecord: 4.3ms | Allocations: 6443)


Started GET "/movies/4" for 127.0.0.1 at 2023-04-06 20:11:50 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1737)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 8497)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.8ms | Allocations: 9281)


Started DELETE "/favorites/4" for 127.0.0.1 at 2023-04-06 20:11:52 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mFavorite Destroy (0.2ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 16]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 4.6ms | Allocations: 3625)


  
NoMethodError (undefined method `movies_show_path' for #<FavoritesController:0x0000000002fff8>):
  
app/controllers/favorites_controller.rb:25:in `destroy'
Started GET "/movies/4" for 127.0.0.1 at 2023-04-06 20:12:01 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 9.8ms | Allocations: 8691)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 28725)
Completed 200 OK in 29ms (Views: 19.3ms | ActiveRecord: 4.2ms | Allocations: 34130)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 20:12:02 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 4], ["created_at", "2023-04-06 11:12:02.659740"], ["updated_at", "2023-04-06 11:12:02.659740"]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
Redirected to http://localhost:3000/movies/4
Completed 302 Found in 15ms (ActiveRecord: 3.7ms | Allocations: 6367)


Started GET "/movies/4" for 127.0.0.1 at 2023-04-06 20:12:02 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1767)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 8410)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.7ms | Allocations: 9193)


Started DELETE "/favorites/4" for 127.0.0.1 at 2023-04-06 20:12:03 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 17]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Redirected to http://localhost:3000/movies.4
Completed 302 Found in 5ms (ActiveRecord: 1.5ms | Allocations: 3322)


Started GET "/movies.4" for 127.0.0.1 at 2023-04-06 20:12:03 +0900
Processing by MoviesController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.1ms | Allocations: 5159)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 6012)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 12651)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.6ms | Allocations: 14469)


Started GET "/movies.4" for 127.0.0.1 at 2023-04-06 20:12:03 +0900
Processing by MoviesController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.9ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 5951)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 12619)
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 0.5ms | Allocations: 14405)


Started GET "/movies.4" for 127.0.0.1 at 2023-04-06 20:12:30 +0900
Processing by MoviesController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 5.5ms | Allocations: 6402)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 7206)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 101)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 27113)
Completed 200 OK in 34ms (Views: 18.4ms | ActiveRecord: 4.5ms | Allocations: 38024)


Started GET "/movies/4" for 127.0.0.1 at 2023-04-06 20:12:31 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1860)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 8500)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.8ms | Allocations: 9843)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 20:12:32 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 4], ["created_at", "2023-04-06 11:12:32.887106"], ["updated_at", "2023-04-06 11:12:32.887106"]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
Redirected to http://localhost:3000/movies/4
Completed 302 Found in 11ms (ActiveRecord: 3.6ms | Allocations: 6438)


Started GET "/movies/4" for 127.0.0.1 at 2023-04-06 20:12:32 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1761)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 8404)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.6ms | Allocations: 9187)


Started DELETE "/favorites/4" for 127.0.0.1 at 2023-04-06 20:12:33 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 18]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Redirected to http://localhost:3000/movies/4
Completed 302 Found in 16ms (ActiveRecord: 5.0ms | Allocations: 3275)


Started GET "/movies/4" for 127.0.0.1 at 2023-04-06 20:12:33 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1761)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 8630)
Completed 200 OK in 16ms (Views: 13.5ms | ActiveRecord: 0.8ms | Allocations: 9414)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 20:12:35 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 4], ["created_at", "2023-04-06 11:12:35.134452"], ["updated_at", "2023-04-06 11:12:35.134452"]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
Redirected to http://localhost:3000/movies/4
Completed 302 Found in 13ms (ActiveRecord: 5.2ms | Allocations: 4422)


Started GET "/movies/4" for 127.0.0.1 at 2023-04-06 20:12:35 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1743)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 8589)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.9ms | Allocations: 9373)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:12:36 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.3ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 12593)
Completed 200 OK in 20ms (Views: 16.8ms | ActiveRecord: 0.7ms | Allocations: 14375)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:12:38 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.9ms | Allocations: 2686)
  Rendered favorites/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2760)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 9510)
Completed 200 OK in 18ms (Views: 14.0ms | ActiveRecord: 0.8ms | Allocations: 11513)


Started GET "/movies/9" for 127.0.0.1 at 2023-04-06 20:12:39 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 9], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1785)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 8425)
Completed 200 OK in 16ms (Views: 12.9ms | ActiveRecord: 0.8ms | Allocations: 9206)


Started DELETE "/favorites/9" for 127.0.0.1 at 2023-04-06 20:12:41 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Redirected to http://localhost:3000/movies/9
Completed 302 Found in 12ms (ActiveRecord: 5.0ms | Allocations: 3214)


Started GET "/movies/9" for 127.0.0.1 at 2023-04-06 20:12:41 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 9], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1761)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 8635)
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 1.0ms | Allocations: 9418)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:12:41 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.7ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 12814)
Completed 200 OK in 23ms (Views: 18.4ms | ActiveRecord: 0.9ms | Allocations: 14599)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 20:13:02 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1762)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 8402)
Completed 200 OK in 15ms (Views: 12.6ms | ActiveRecord: 0.9ms | Allocations: 9182)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 20:13:14 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 7], ["created_at", "2023-04-06 11:13:14.098282"], ["updated_at", "2023-04-06 11:13:14.098282"]]
  ↳ app/controllers/favorites_controller.rb:13:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:13:in `create'
Redirected to http://localhost:3000/movies/7
Completed 302 Found in 14ms (ActiveRecord: 5.4ms | Allocations: 4423)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 20:13:14 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1729)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 8373)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.9ms | Allocations: 9156)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:13:15 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.2ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 12593)
Completed 200 OK in 21ms (Views: 17.1ms | ActiveRecord: 0.8ms | Allocations: 14372)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 20:13:23 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 427)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:13:23 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.7ms | Allocations: 282)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 7042)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.0ms | Allocations: 7686)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:15:01 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 19.6ms | Allocations: 13473)
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | Allocations: 21720)
Completed 200 OK in 32ms (Views: 31.0ms | ActiveRecord: 0.0ms | Allocations: 22694)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:15:01 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 2312)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 8815)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 9266)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:15:02 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2314)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 8809)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 9253)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:15:04 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 2642)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 9487)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.0ms | Allocations: 10396)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:15:34 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2643)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 9490)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 10400)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:15:54 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2642)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 9487)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 10415)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:16:14 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 2642)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 9488)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 10395)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:16:23 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 2642)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 9487)
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.0ms | Allocations: 10400)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:16:31 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.6ms | Allocations: 269)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 7259)
Completed 200 OK in 11ms (Views: 11.0ms | ActiveRecord: 0.0ms | Allocations: 7822)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:16:39 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.6ms | Allocations: 264)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 7503)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.0ms | Allocations: 8246)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:16:42 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.9ms | Allocations: 265)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 7282)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms | Allocations: 8024)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:16:43 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 6774)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 7031)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:16:50 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.8ms | Allocations: 578)
  Rendered layout layouts/application.html.erb (Duration: 100.7ms | Allocations: 61004)
Completed 200 OK in 105ms (Views: 101.9ms | ActiveRecord: 0.0ms | Allocations: 64214)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:16:59 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.4ms | Allocations: 269)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 7302)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 8047)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:17:07 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.6ms | Allocations: 264)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 8454)
Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.0ms | Allocations: 9199)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:17:20 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.4ms | Allocations: 264)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 7283)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 8028)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:17:41 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3991)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 10919)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.0ms | Allocations: 11927)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:18:41 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2648)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 9504)
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 10422)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:18:47 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 2644)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 9489)
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.0ms | Allocations: 10411)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:18:52 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2644)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 9488)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms | Allocations: 10395)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 20:19:06 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1828)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 8407)
Completed 200 OK in 27ms (Views: 11.4ms | ActiveRecord: 3.9ms | Allocations: 15158)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 20:19:34 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1533)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 8377)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 9136)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 20:19:45 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1544)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 8613)
Completed 200 OK in 13ms (Views: 12.7ms | ActiveRecord: 0.0ms | Allocations: 9374)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 20:19:59 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1538)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 8389)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms | Allocations: 9150)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:20:08 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.6ms | Allocations: 263)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 7005)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 7567)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:20:09 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2642)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 9210)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 9966)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 20:20:11 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1180)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 7675)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 7949)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:20:15 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2314)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 8809)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms | Allocations: 9235)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:21:07 +0900
Processing by PagesController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/login.html.erb within layouts/application
  Rendered pages/login.html.erb within layouts/application (Duration: 0.6ms | Allocations: 264)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 7284)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 8026)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:21:48 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.4ms | Allocations: 275)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 20524)
Completed 200 OK in 15ms (Views: 15.0ms | ActiveRecord: 0.0ms | Allocations: 21351)


Started GET "/" for 127.0.0.1 at 2023-04-06 20:21:54 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.6ms | Allocations: 578)
  Rendered layout layouts/application.html.erb (Duration: 96.3ms | Allocations: 60614)
Completed 200 OK in 101ms (Views: 97.8ms | ActiveRecord: 0.0ms | Allocations: 63824)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:21:55 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4049)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 10627)
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.0ms | Allocations: 11449)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 20:21:57 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1834)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 8414)
Completed 200 OK in 20ms (Views: 6.6ms | ActiveRecord: 4.1ms | Allocations: 15174)


Started GET "/login" for 127.0.0.1 at 2023-04-06 20:22:02 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2315)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 8811)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 9248)


Started POST "/login" for 127.0.0.1 at 2023-04-06 20:22:08 +0900
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Log In"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 206ms (ActiveRecord: 0.6ms | Allocations: 2669)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:22:08 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.6ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.1ms | Allocations: 8175)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 9351)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 307)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 16585)
Completed 200 OK in 28ms (Views: 12.3ms | ActiveRecord: 4.4ms | Allocations: 27525)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:22:11 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.6ms | Allocations: 2743)
  Rendered favorites/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2927)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 9682)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 1.0ms | Allocations: 11919)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:22:12 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.9ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 12593)
Completed 200 OK in 21ms (Views: 16.5ms | ActiveRecord: 0.9ms | Allocations: 14397)


Started GET "/movies/1" for 127.0.0.1 at 2023-04-06 20:22:14 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2158)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 8798)
Completed 200 OK in 17ms (Views: 13.5ms | ActiveRecord: 1.1ms | Allocations: 10209)


Started DELETE "/favorites/1" for 127.0.0.1 at 2023-04-06 20:22:18 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mFavorite Destroy (0.2ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Redirected to http://localhost:3000/movies/1
Completed 302 Found in 16ms (ActiveRecord: 5.8ms | Allocations: 6621)


Started GET "/movies/1" for 127.0.0.1 at 2023-04-06 20:22:18 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1761)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 8404)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.7ms | Allocations: 9187)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:22:19 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.2ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 5953)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 12592)
Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 0.8ms | Allocations: 14391)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 20:22:22 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 1], ["created_at", "2023-04-06 11:22:22.303841"], ["updated_at", "2023-04-06 11:22:22.303841"]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 23ms (ActiveRecord: 6.0ms | Allocations: 7986)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:22:22 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.7ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 5955)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 12818)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 0.6ms | Allocations: 14604)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:22:59 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.6ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 6562)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 298)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 13813)
Completed 200 OK in 25ms (Views: 19.8ms | ActiveRecord: 1.0ms | Allocations: 16082)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:23:20 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.9ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 6558)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 13808)
Completed 200 OK in 22ms (Views: 17.7ms | ActiveRecord: 0.8ms | Allocations: 16074)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:29:03 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.1ms | Allocations: 2009)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2253)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 299)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 9517)
Completed 200 OK in 34ms (Views: 13.5ms | ActiveRecord: 4.2ms | Allocations: 14727)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:29:04 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.2ms | Allocations: 5142)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 6210)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 101)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 12932)
Completed 200 OK in 21ms (Views: 16.0ms | ActiveRecord: 1.1ms | Allocations: 15008)


Started GET "/movies/10" for 127.0.0.1 at 2023-04-06 20:29:05 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 10], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2027)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 8667)
Completed 200 OK in 15ms (Views: 11.3ms | ActiveRecord: 1.2ms | Allocations: 9506)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 20:29:08 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:29:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 5], ["created_at", "2023-04-06 11:29:08.280443"], ["updated_at", "2023-04-06 11:29:08.280443"]]
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:35:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 21ms (ActiveRecord: 6.3ms | Allocations: 5913)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:29:08 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.2ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 6000)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 12863)
Completed 200 OK in 20ms (Views: 15.8ms | ActiveRecord: 1.1ms | Allocations: 14687)


Started GET "/movies/5" for 127.0.0.1 at 2023-04-06 20:29:10 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1755)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 8395)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 1.2ms | Allocations: 9177)


Started DELETE "/favorites/5" for 127.0.0.1 at 2023-04-06 20:29:11 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 22]]
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `destroy'
Redirected to http://localhost:3000/movies/5
Completed 302 Found in 11ms (ActiveRecord: 5.2ms | Allocations: 3221)


Started GET "/movies/5" for 127.0.0.1 at 2023-04-06 20:29:11 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:20:in `set_movie'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1743)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 8386)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.9ms | Allocations: 9169)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:29:14 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.7ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 12593)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 1.1ms | Allocations: 14387)


Started GET "/movies.json" for 127.0.0.1 at 2023-04-06 20:36:20 +0900
Processing by MoviesController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/controllers/movies_controller.rb:13:in `block (2 levels) in index'
Completed 200 OK in 27ms (Views: 2.5ms | ActiveRecord: 3.6ms | Allocations: 16335)


Started GET "/movies/1.json" for 127.0.0.1 at 2023-04-06 20:36:27 +0900
Processing by MoviesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1247)


Started GET "/favorites.json" for 127.0.0.1 at 2023-04-06 20:40:21 +0900
Processing by FavoritesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:10:in `block (2 levels) in index'
Completed 200 OK in 21ms (Views: 2.2ms | ActiveRecord: 9.0ms | Allocations: 13531)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:43:28 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.1ms | Allocations: 4130)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 4378)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 302)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 24987)
Completed 200 OK in 35ms (Views: 18.8ms | ActiveRecord: 6.7ms | Allocations: 36080)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 20:43:29 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.1ms | Allocations: 1654)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1721)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 8442)
Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 1.0ms | Allocations: 10250)


Started GET "/movies/1" for 127.0.0.1 at 2023-04-06 20:43:30 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2125)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 8871)
Completed 200 OK in 17ms (Views: 12.7ms | ActiveRecord: 1.1ms | Allocations: 10636)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:43:32 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 5.2ms | Allocations: 5158)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 6210)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 12849)
Completed 200 OK in 16ms (Views: 12.5ms | ActiveRecord: 1.1ms | Allocations: 14737)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:43:34 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1768)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 8408)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 1.1ms | Allocations: 9216)


Started GET "/favorites.2" for 127.0.0.1 at 2023-04-06 20:43:35 +0900
Processing by FavoritesController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
Completed 406 Not Acceptable in 3ms (ActiveRecord: 0.7ms | Allocations: 2021)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/favorites_controller.rb:8:in `index'
Started GET "/favorites.2" for 127.0.0.1 at 2023-04-06 20:44:53 +0900
Processing by FavoritesController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
Completed 406 Not Acceptable in 16ms (ActiveRecord: 6.4ms | Allocations: 10762)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/favorites_controller.rb:8:in `index'
Started GET "/favorites.2" for 127.0.0.1 at 2023-04-06 20:44:56 +0900
Processing by FavoritesController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
Completed 406 Not Acceptable in 4ms (ActiveRecord: 0.5ms | Allocations: 1989)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/favorites_controller.rb:8:in `index'
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:45:08 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 10.1ms | Allocations: 8694)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 28724)
Completed 200 OK in 29ms (Views: 16.6ms | ActiveRecord: 6.7ms | Allocations: 34106)


Started GET "/favorites.2" for 127.0.0.1 at 2023-04-06 20:45:09 +0900
Processing by FavoritesController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
Completed 406 Not Acceptable in 4ms (ActiveRecord: 0.5ms | Allocations: 2105)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/favorites_controller.rb:8:in `index'
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:45:18 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2041)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 299)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 9519)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 1.0ms | Allocations: 10811)


Started POST "/favorites/2" for 127.0.0.1 at 2023-04-06 20:45:19 +0900
  
ActionController::RoutingError (No route matches [POST] "/favorites/2"):
  
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:45:19 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1739)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 8603)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.8ms | Allocations: 9411)


Started POST "/favorites/2" for 127.0.0.1 at 2023-04-06 20:45:21 +0900
  
ActionController::RoutingError (No route matches [POST] "/favorites/2"):
  
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:45:21 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1739)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 8603)
Completed 200 OK in 18ms (Views: 11.9ms | ActiveRecord: 1.0ms | Allocations: 9412)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:45:33 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 8675)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 28706)
Completed 200 OK in 30ms (Views: 17.1ms | ActiveRecord: 6.9ms | Allocations: 34031)


Started POST "/favorites/2" for 127.0.0.1 at 2023-04-06 20:45:34 +0900
  
ActionController::RoutingError (No route matches [POST] "/favorites/2"):
  
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:45:34 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1737)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 8600)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.8ms | Allocations: 9407)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:45:52 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 11.7ms | Allocations: 8955)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 298)
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | Allocations: 29513)
Completed 200 OK in 32ms (Views: 19.1ms | ActiveRecord: 7.0ms | Allocations: 35196)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 20:45:53 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 2], ["created_at", "2023-04-06 11:45:53.766447"], ["updated_at", "2023-04-06 11:45:53.766447"]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
Redirected to http://localhost:3000/movies/2
Completed 302 Found in 14ms (ActiveRecord: 4.0ms | Allocations: 6441)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:45:53 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1762)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 8402)
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.7ms | Allocations: 9221)


Started DELETE "/favorites/2" for 127.0.0.1 at 2023-04-06 20:45:55 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:28:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:28:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 23]]
  ↳ app/controllers/favorites_controller.rb:28:in `destroy'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:28:in `destroy'
Redirected to http://localhost:3000/movies/2
Completed 302 Found in 11ms (ActiveRecord: 4.8ms | Allocations: 3307)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:45:55 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1761)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 8439)
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 0.8ms | Allocations: 9254)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 20:45:56 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["movie_id", 2], ["created_at", "2023-04-06 11:45:56.793314"], ["updated_at", "2023-04-06 11:45:56.793314"]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
Redirected to http://localhost:3000/movies/2
Completed 302 Found in 10ms (ActiveRecord: 5.0ms | Allocations: 4425)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 20:45:56 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1746)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 8424)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.6ms | Allocations: 9242)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 20:45:57 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.2ms | Allocations: 5444)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 6558)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 13199)
Completed 200 OK in 21ms (Views: 16.7ms | ActiveRecord: 0.8ms | Allocations: 15118)


Started GET "/favorites/1" for 127.0.0.1 at 2023-04-06 20:47:45 +0900
  
ActionController::RoutingError (No route matches [GET] "/favorites/1"):
  
Started POST "/favorites/10" for ::1 at 2023-04-06 20:48:51 +0900
  
ActionController::RoutingError (No route matches [POST] "/favorites/10"):
  
Started POST "/favorites/10" for ::1 at 2023-04-06 20:50:04 +0900
Processing by FavoritesController#create as */*
  Parameters: {"movie_id"=>"10"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 497)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/favorites/1" for 127.0.0.1 at 2023-04-06 20:50:22 +0900
  
ActionController::RoutingError (No route matches [GET] "/favorites/1"):
  
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAuthenticationTokenToUsers (20230406115656)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "authentication_token" character varying[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_authentication_token" ON "users" ("authentication_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230406115656"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/logout" for 127.0.0.1 at 2023-04-06 21:06:34 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 384)


Started GET "/" for 127.0.0.1 at 2023-04-06 21:06:34 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.3ms | Allocations: 273)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 20316)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.0ms | Allocations: 20960)


Started GET "/signup" for 127.0.0.1 at 2023-04-06 21:07:31 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3720)
  Rendered layout layouts/application.html.erb (Duration: 101.2ms | Allocations: 54965)
Completed 200 OK in 114ms (Views: 102.5ms | ActiveRecord: 2.0ms | Allocations: 64918)


Started POST "/users" for 127.0.0.1 at 2023-04-06 21:07:39 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test4@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/models/user.rb:20:in `block in generate_authentication_token'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "authentication_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test4@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-04-06 12:07:39.472239"], ["updated_at", "2023-04-06 12:07:39.472239"], ["authentication_token", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 211ms (ActiveRecord: 5.4ms | Allocations: 7087)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 21:07:39 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.6ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.0ms | Allocations: 8204)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 9340)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 307)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 16354)
Completed 200 OK in 28ms (Views: 11.8ms | ActiveRecord: 5.0ms | Allocations: 27456)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 21:07:42 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/favorites_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.3ms | Allocations: 1783)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1967)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 130)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 8984)
Completed 200 OK in 25ms (Views: 18.7ms | ActiveRecord: 1.4ms | Allocations: 11946)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 21:07:43 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.9ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 5955)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 12667)
Completed 200 OK in 21ms (Views: 16.5ms | ActiveRecord: 1.2ms | Allocations: 14496)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 21:07:44 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"toggle"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `create'
Completed 404 Not Found in 6ms (ActiveRecord: 1.0ms | Allocations: 2888)


  
ActiveRecord::RecordNotFound (Couldn't find Movie with 'id'=toggle):
  
app/controllers/favorites_controller.rb:15:in `create'
Started GET "/movies" for 127.0.0.1 at 2023-04-06 21:07:45 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.4ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 5952)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 12820)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 0.8ms | Allocations: 14633)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:07:59 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2140)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 8780)
Completed 200 OK in 19ms (Views: 16.1ms | ActiveRecord: 1.1ms | Allocations: 9648)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 21:07:59 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 1], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["movie_id", 7], ["created_at", "2023-04-06 12:07:59.970078"], ["updated_at", "2023-04-06 12:07:59.970078"]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
Redirected to http://localhost:3000/movies/7
Completed 302 Found in 21ms (ActiveRecord: 7.6ms | Allocations: 16378)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:07:59 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1766)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 8406)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.8ms | Allocations: 9225)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:08:13 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1768)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 8408)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 1.0ms | Allocations: 9215)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:08:52 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 8964)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 28917)
Completed 200 OK in 32ms (Views: 22.5ms | ActiveRecord: 4.1ms | Allocations: 34186)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 21:08:53 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 7], ["created_at", "2023-04-06 12:08:53.346925"], ["updated_at", "2023-04-06 12:08:53.346925"]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
Redirected to http://localhost:3000/movies/7
Completed 302 Found in 13ms (ActiveRecord: 4.2ms | Allocations: 6451)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:08:53 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1750)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 8501)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.7ms | Allocations: 9320)


Started DELETE "/favorites/7" for 127.0.0.1 at 2023-04-06 21:08:55 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:28:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:28:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 26]]
  ↳ app/controllers/favorites_controller.rb:28:in `destroy'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:28:in `destroy'
Redirected to http://localhost:3000/movies/7
Completed 302 Found in 11ms (ActiveRecord: 5.0ms | Allocations: 3401)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:08:55 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1786)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 8426)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 0.7ms | Allocations: 9241)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:08:59 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 10.9ms | Allocations: 8959)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 29012)
Completed 200 OK in 31ms (Views: 20.4ms | ActiveRecord: 4.3ms | Allocations: 34326)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 21:09:00 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 1], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
Redirected to http://localhost:3000/movies/7
Completed 302 Found in 13ms (ActiveRecord: 3.1ms | Allocations: 6817)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:09:00 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1765)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 8596)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.9ms | Allocations: 9417)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 21:09:01 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 1], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
Redirected to http://localhost:3000/movies/7
Completed 302 Found in 5ms (ActiveRecord: 0.9ms | Allocations: 4801)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:09:01 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1771)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 8411)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.5ms | Allocations: 9226)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 21:09:01 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 1], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
Redirected to http://localhost:3000/movies/7
Completed 302 Found in 9ms (ActiveRecord: 1.4ms | Allocations: 4794)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:09:01 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1768)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 8446)
Completed 200 OK in 16ms (Views: 13.1ms | ActiveRecord: 0.8ms | Allocations: 9261)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 21:09:02 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 1], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/favorites_controller.rb:18:in `create'
Redirected to http://localhost:3000/movies/7
Completed 302 Found in 9ms (ActiveRecord: 1.4ms | Allocations: 4777)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:09:02 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1765)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 8632)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.7ms | Allocations: 9450)


Started GET "/movies/7" for 127.0.0.1 at 2023-04-06 21:09:06 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 9.1ms | Allocations: 8959)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 28768)
Completed 200 OK in 27ms (Views: 16.9ms | ActiveRecord: 4.6ms | Allocations: 34139)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 21:09:08 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.4ms | Allocations: 5161)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 6014)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 12682)
Completed 200 OK in 23ms (Views: 19.0ms | ActiveRecord: 0.9ms | Allocations: 14543)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 21:09:09 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"toggle"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `create'
Completed 404 Not Found in 4ms (ActiveRecord: 0.4ms | Allocations: 1796)


  
ActiveRecord::RecordNotFound (Couldn't find Movie with 'id'=toggle):
  
app/controllers/favorites_controller.rb:15:in `create'
Started GET "/movies" for 127.0.0.1 at 2023-04-06 21:09:09 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.5ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 5952)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 12820)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.5ms | Allocations: 14651)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 21:09:10 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"toggle"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:15:in `create'
Completed 404 Not Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1680)


  
ActiveRecord::RecordNotFound (Couldn't find Movie with 'id'=toggle):
  
app/controllers/favorites_controller.rb:15:in `create'
Started GET "/movies" for 127.0.0.1 at 2023-04-06 21:09:10 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.9ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 5952)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 12820)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.7ms | Allocations: 14633)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 21:10:33 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.1ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.8ms | Allocations: 6687)
  Rendered movies/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 7752)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 300)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | Allocations: 28110)
Completed 200 OK in 34ms (Views: 20.0ms | ActiveRecord: 4.1ms | Allocations: 39541)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 21:10:39 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.6ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.1ms | Allocations: 8217)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 9813)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 312)
  Rendered layout layouts/application.html.erb (Duration: 112.0ms | Allocations: 61662)
Completed 200 OK in 144ms (Views: 113.1ms | ActiveRecord: 7.8ms | Allocations: 83312)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 21:10:40 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:40:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:40:in `toggle'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:40:in `toggle'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 1], ["created_at", "2023-04-06 12:10:40.988690"], ["updated_at", "2023-04-06 12:10:40.988690"]]
  ↳ app/controllers/favorites_controller.rb:40:in `toggle'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:40:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 21ms (ActiveRecord: 4.1ms | Allocations: 11515)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 21:10:40 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.3ms | Allocations: 5130)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 5953)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 12594)
Completed 200 OK in 18ms (Views: 14.8ms | ActiveRecord: 0.7ms | Allocations: 14417)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 21:10:42 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:34:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:40:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:40:in `toggle'
  [1m[36mFavorite Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:40:in `toggle'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 3], ["created_at", "2023-04-06 12:10:42.093099"], ["updated_at", "2023-04-06 12:10:42.093099"]]
  ↳ app/controllers/favorites_controller.rb:40:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:40:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 17ms (ActiveRecord: 6.3ms | Allocations: 5922)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 21:10:42 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.6ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 12594)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 1.1ms | Allocations: 14418)


Started GET "/movies/1" for 127.0.0.1 at 2023-04-06 21:10:42 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2118)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 8759)
Completed 200 OK in 16ms (Views: 12.5ms | ActiveRecord: 1.4ms | Allocations: 10184)


Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:33:21 +0900
  
ActionController::RoutingError (No route matches [GET] "/api/v1/favorites.json"):
  
Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:34:34 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `def_delegator' for Api::V1::FavoritesController:Class):
  
app/controllers/api/v1/favorites_controller.rb:6:in `<class:FavoritesController>'
app/controllers/api/v1/favorites_controller.rb:3:in `<module:V1>'
app/controllers/api/v1/favorites_controller.rb:2:in `<module:Api>'
app/controllers/api/v1/favorites_controller.rb:1:in `<main>'
Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:35:34 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `def_delegator' for Api::V1::FavoritesController:Class):
  
app/controllers/api/v1/favorites_controller.rb:8:in `<class:FavoritesController>'
app/controllers/api/v1/favorites_controller.rb:5:in `<module:V1>'
app/controllers/api/v1/favorites_controller.rb:4:in `<module:Api>'
app/controllers/api/v1/favorites_controller.rb:3:in `<main>'
Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:35:51 +0900
Processing by Api::V1::FavoritesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.5ms | Allocations: 10060)


  
NoMethodError (super: no superclass method `index' for #<Api::V1::FavoritesController:0x00000000010658>):
  
app/controllers/api/v1/favorites_controller.rb:18:in `index'
Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:40:24 +0900
Processing by Api::V1::FavoritesController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.9ms | Allocations: 4912)


  
NoMethodError (undefined method `favorite_movies' for nil:NilClass):
  
app/controllers/favorites_controller.rb:5:in `index'
app/controllers/api/v1/favorites_controller.rb:19:in `delegate_index_action'
Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:41:06 +0900
Processing by Api::V1::FavoritesController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 3.2ms | Allocations: 4894)


  
NoMethodError (undefined method `favorite_movies' for nil:NilClass):
  
app/controllers/favorites_controller.rb:5:in `index'
app/controllers/api/v1/favorites_controller.rb:19:in `delegate_index_action'
Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:42:32 +0900
Processing by Api::V1::FavoritesController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 2.0ms | Allocations: 4904)


  
NoMethodError (undefined method `favorite_movies' for nil:NilClass):
  
app/controllers/favorites_controller.rb:5:in `index'
app/controllers/api/v1/favorites_controller.rb:20:in `delegate_index_action'
Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:42:50 +0900
Processing by Api::V1::FavoritesController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:45:08 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FavoritesController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.0ms | Allocations: 10576)


  
NoMethodError (undefined method `favorite_movies' for nil:NilClass):
  
app/controllers/favorites_controller.rb:5:in `index'
app/controllers/api/v1/favorites_controller.rb:20:in `delegate_index_action'
Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:45:42 +0900
Processing by Api::V1::FavoritesController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.2ms | Allocations: 5068)


  
NoMethodError (undefined method `favorite_movies' for nil:NilClass):
  
app/controllers/favorites_controller.rb:5:in `index'
app/controllers/api/v1/favorites_controller.rb:20:in `delegate_index_action'
Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:46:34 +0900
Processing by Api::V1::FavoritesController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 3.2ms | Allocations: 4611)


  
NoMethodError (undefined method `favorite_movies' for nil:NilClass):
  
app/controllers/favorites_controller.rb:5:in `index'
app/controllers/api/v1/favorites_controller.rb:23:in `delegate_index_action'
Started GET "/api/v1/favorites.json" for ::1 at 2023-04-06 21:46:51 +0900
Processing by Api::V1::FavoritesController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Started GET "/favorites.json" for ::1 at 2023-04-06 21:53:03 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FavoritesController#index as JSON
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 1751)


Started GET "/login" for ::1 at 2023-04-06 21:53:03 +0900
Processing by SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 4344)
  Rendered layout layouts/application.html.erb (Duration: 80.1ms | Allocations: 55293)
Completed 200 OK in 83ms (Views: 81.3ms | ActiveRecord: 0.0ms | Allocations: 57624)


Started GET "/favorites.json" for ::1 at 2023-04-06 21:53:46 +0900
Processing by FavoritesController#index as JSON
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 362)


Started GET "/login" for ::1 at 2023-04-06 21:53:46 +0900
Processing by SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2316)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 8814)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 9255)


Started GET "/favorites.json" for ::1 at 2023-04-06 21:54:40 +0900
  
NoMethodError (undefined method `skip_before_filter' for FavoritesController:Class):
  
app/controllers/favorites_controller.rb:3:in `<class:FavoritesController>'
app/controllers/favorites_controller.rb:1:in `<main>'
Started GET "/favorites.json" for ::1 at 2023-04-06 21:57:01 +0900
Processing by FavoritesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.0ms | Allocations: 9378)


  
NoMethodError (undefined method `favorite_movies' for nil:NilClass):
  
app/controllers/favorites_controller.rb:6:in `index'
Started GET "/favorites.json" for ::1 at 2023-04-06 21:57:21 +0900
Processing by FavoritesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Filter chain halted as :authenticate_api_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 685)


Started GET "/favorites.json" for ::1 at 2023-04-06 21:57:24 +0900
Processing by FavoritesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms | Allocations: 1183)


  
NoMethodError (undefined method `favorite_movies' for nil:NilClass):
  
app/controllers/favorites_controller.rb:6:in `index'
Started GET "/favorites.json" for ::1 at 2023-04-06 21:57:59 +0900
Processing by FavoritesController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Pluck (0.6ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `index'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:11:in `block (2 levels) in index'
Completed 200 OK in 22ms (Views: 3.4ms | ActiveRecord: 5.6ms | Allocations: 17571)


Started GET "/favorites.json" for ::1 at 2023-04-06 22:05:06 +0900
Processing by FavoritesController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:7:in `index'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:11:in `block (2 levels) in index'
Completed 200 OK in 22ms (Views: 2.0ms | ActiveRecord: 3.3ms | Allocations: 15336)


Started GET "/favorites/1.json" for ::1 at 2023-04-06 22:05:12 +0900
  
ActionController::RoutingError (No route matches [GET] "/favorites/1.json"):
  
Started GET "/favorites/1" for ::1 at 2023-04-06 22:05:23 +0900
  
ActionController::RoutingError (No route matches [GET] "/favorites/1"):
  
Started POST "/favorites/1" for ::1 at 2023-04-06 22:05:28 +0900
  
ActionController::RoutingError (No route matches [POST] "/favorites/1"):
  
Started POST "/favorites/1.json" for ::1 at 2023-04-06 22:06:01 +0900
Processing by FavoritesController#create as JSON
  Parameters: {"movie_id"=>"1"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 519)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/authenticate" for ::1 at 2023-04-06 22:07:09 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/authenticate"):
  
Started POST "/authenticate" for ::1 at 2023-04-06 22:07:17 +0900
  
ActionController::RoutingError (uninitialized constant AuthController):
  
Started POST "/authenticate" for ::1 at 2023-04-06 22:07:40 +0900
  
Zeitwerk::NameError (expected file /home/jeramy/Projects/ml-backend-test-kxcrl/watchr/app/controllers/auth_controller.rb to define constant AuthController, but didn't):
  
zeitwerk (2.6.7) lib/zeitwerk/loader/callbacks.rb:25:in `on_file_autoloaded'
zeitwerk (2.6.7) lib/zeitwerk/kernel.rb:31:in `require'
activesupport (7.0.4.3) lib/active_support/inflector/methods.rb:280:in `const_get'
activesupport (7.0.4.3) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (7.0.4.3) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.0.4.3) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.0.4.3) lib/action_dispatch/request/utils.rb:95:in `action_encoding_template'
actionpack (7.0.4.3) lib/action_dispatch/request/utils.rb:83:in `encode'
actionpack (7.0.4.3) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.0.4.3) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/authenticate" for ::1 at 2023-04-06 22:08:03 +0900
Processing by AuthController#login as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/auth_controller.rb:5:in `login'
Completed 401 Unauthorized in 8ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 6164)


Started POST "/authenticate?email=test4@test.com&password=[FILTERED]" for ::1 at 2023-04-06 22:08:25 +0900
Processing by AuthController#login as */*
  Parameters: {"email"=>"test4@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/auth_controller.rb:5:in `login'
Completed 200 OK in 197ms (Views: 0.1ms | ActiveRecord: 2.8ms | Allocations: 5006)


Started POST "/" for ::1 at 2023-04-06 22:08:36 +0900
  
ActionController::RoutingError (No route matches [POST] "/"):
  
Started POST "/favorites/1.json" for ::1 at 2023-04-06 22:08:45 +0900
Processing by FavoritesController#create as JSON
  Parameters: {"movie_id"=>"1"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 538)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/favorites.json" for ::1 at 2023-04-06 22:09:11 +0900
Processing by FavoritesController#create as JSON
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 441)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/favorites.json" for ::1 at 2023-04-06 22:09:15 +0900
Processing by FavoritesController#create as JSON
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 441)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/logout" for 127.0.0.1 at 2023-04-06 22:09:23 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 550)


Started GET "/" for 127.0.0.1 at 2023-04-06 22:09:23 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.6ms | Allocations: 281)
  Rendered layout layouts/application.html.erb (Duration: 47.6ms | Allocations: 51482)
Completed 200 OK in 49ms (Views: 48.8ms | ActiveRecord: 0.0ms | Allocations: 52327)


Started GET "/login" for 127.0.0.1 at 2023-04-06 22:09:24 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3917)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 10648)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms | Allocations: 11438)


Started POST "/login" for 127.0.0.1 at 2023-04-06 22:09:31 +0900
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test4@test.com", "password"=>"[FILTERED]", "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 169ms (ActiveRecord: 0.3ms | Allocations: 955)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:09:31 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.6ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.0ms | Allocations: 8244)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 9351)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 307)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 16497)
Completed 200 OK in 28ms (Views: 11.3ms | ActiveRecord: 4.8ms | Allocations: 27439)


Started POST "/favorites.json" for ::1 at 2023-04-06 22:09:35 +0900
Processing by FavoritesController#create as JSON
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 442)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/favorites.json" for ::1 at 2023-04-06 22:09:52 +0900
Processing by FavoritesController#create as JSON
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 543)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/favorites.json" for ::1 at 2023-04-06 22:10:02 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FavoritesController#create as JSON
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 657)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/favorites.json" for ::1 at 2023-04-06 22:10:21 +0900
Processing by FavoritesController#create as JSON
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 444)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/favorites.json" for ::1 at 2023-04-06 22:10:38 +0900
Processing by FavoritesController#create as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
Completed 404 Not Found in 19ms (ActiveRecord: 6.5ms | Allocations: 12659)


  
ActiveRecord::RecordNotFound (Couldn't find Movie without an ID):
  
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites.json" for ::1 at 2023-04-06 22:10:56 +0900
Processing by FavoritesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Pluck (0.7ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:8:in `index'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:12:in `block (2 levels) in index'
Completed 200 OK in 21ms (Views: 5.9ms | ActiveRecord: 2.3ms | Allocations: 11991)


Started POST "/favorites/1.json" for ::1 at 2023-04-06 22:11:08 +0900
Processing by FavoritesController#create as JSON
  Parameters: {"movie_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
Completed 404 Not Found in 10ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 7962)


Started POST "/favorites/1.json" for ::1 at 2023-04-06 22:11:50 +0900
Processing by FavoritesController#create as JSON
  Parameters: {"movie_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (pry):2:in `create'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:32:in `block (2 levels) in create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:32:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/favorites_controller.rb:32:in `block (2 levels) in create'
Completed 404 Not Found in 46847ms (Views: 0.1ms | ActiveRecord: 9.8ms | Allocations: 98824)


Started POST "/favorites/1.json" for ::1 at 2023-04-06 22:12:41 +0900
Processing by FavoritesController#create as JSON
  Parameters: {"movie_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ (pry):4:in `block (2 levels) in create'
  [1m[36mFavorite Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 1], ["LIMIT", 1]]
  ↳ (pry):4:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ (pry):4:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:32:in `block (2 levels) in create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:32:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/favorites_controller.rb:32:in `block (2 levels) in create'
Completed 404 Not Found in 209588ms (Views: 0.2ms | ActiveRecord: 9.4ms | Allocations: 342552)


Started POST "/favorites/1.json" for ::1 at 2023-04-06 22:16:20 +0900
Processing by FavoritesController#create as JSON
  Parameters: {"movie_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
Completed 400 Bad Request in 20ms (Views: 0.1ms | ActiveRecord: 4.8ms | Allocations: 15512)


Started POST "/favorites/15.json" for ::1 at 2023-04-06 22:16:34 +0900
Processing by FavoritesController#create as JSON
  Parameters: {"movie_id"=>"15"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 15], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 15], ["created_at", "2023-04-06 13:16:34.223305"], ["updated_at", "2023-04-06 13:16:34.223305"]]
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 5.2ms | Allocations: 5110)


Started POST "/favorites/15.json" for ::1 at 2023-04-06 22:19:21 +0900
Processing by FavoritesController#create as JSON
  Parameters: {"movie_id"=>"15"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `authenticate_api_request'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 15], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/favorites_controller.rb:31:in `block (2 levels) in create'
Completed 400 Bad Request in 22ms (Views: 0.1ms | ActiveRecord: 8.2ms | Allocations: 15202)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:20:50 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 5.3ms | Allocations: 6783)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 8122)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 310)
  Rendered layout layouts/application.html.erb (Duration: 58.6ms | Allocations: 59820)
Completed 200 OK in 76ms (Views: 59.1ms | ActiveRecord: 6.4ms | Allocations: 71211)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:20:52 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:47:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:53:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:53:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:53:in `toggle'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 5], ["created_at", "2023-04-06 13:20:52.134622"], ["updated_at", "2023-04-06 13:20:52.134622"]]
  ↳ app/controllers/favorites_controller.rb:53:in `toggle'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:53:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 16ms (ActiveRecord: 4.0ms | Allocations: 8947)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:20:52 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.0ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 5952)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 12594)
Completed 200 OK in 17ms (Views: 13.3ms | ActiveRecord: 0.9ms | Allocations: 14434)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:20:53 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:47:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:53:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:53:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:53:in `toggle'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 7], ["created_at", "2023-04-06 13:20:53.891294"], ["updated_at", "2023-04-06 13:20:53.891294"]]
  ↳ app/controllers/favorites_controller.rb:53:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:53:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 16ms (ActiveRecord: 5.6ms | Allocations: 5891)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:20:53 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.1ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 5953)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 12593)
Completed 200 OK in 22ms (Views: 17.7ms | ActiveRecord: 0.9ms | Allocations: 14435)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:20:56 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 8.0ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 12823)
Completed 200 OK in 26ms (Views: 17.7ms | ActiveRecord: 1.2ms | Allocations: 14640)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 22:20:57 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.5ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.0ms | Allocations: 2534)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2720)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 9516)
Completed 200 OK in 15ms (Views: 11.0ms | ActiveRecord: 1.1ms | Allocations: 11724)


Started GET "/movies/15" for 127.0.0.1 at 2023-04-06 22:20:58 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 15], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2108)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 8748)
Completed 200 OK in 16ms (Views: 12.5ms | ActiveRecord: 1.0ms | Allocations: 10159)


Started DELETE "/favorites/15" for 127.0.0.1 at 2023-04-06 22:20:59 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 15], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:41:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:41:in `destroy'
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 29]]
  ↳ app/controllers/favorites_controller.rb:41:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:41:in `destroy'
Redirected to http://localhost:3000/movies/15
Completed 302 Found in 8ms (ActiveRecord: 1.9ms | Allocations: 3322)


Started GET "/movies/15" for 127.0.0.1 at 2023-04-06 22:20:59 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"15"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 15], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1779)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 8419)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 0.9ms | Allocations: 9238)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 22:21:00 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"15"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:17:in `create'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms | Allocations: 1188)


  
NoMethodError (undefined method `favorites' for nil:NilClass):
  
app/controllers/favorites_controller.rb:18:in `create'
Started GET "/favorites" for 127.0.0.1 at 2023-04-06 22:21:09 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.3ms | Allocations: 1350)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1417)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 8296)
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 0.8ms | Allocations: 10107)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 22:21:09 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.3ms | Allocations: 1350)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1417)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 8068)
Completed 200 OK in 18ms (Views: 13.0ms | ActiveRecord: 0.8ms | Allocations: 9901)


Started GET "/favorites" for 127.0.0.1 at 2023-04-06 22:21:10 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.5ms | Allocations: 1350)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1417)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 8066)
Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 1.0ms | Allocations: 9865)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:21:13 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.5ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 12593)
Completed 200 OK in 22ms (Views: 17.3ms | ActiveRecord: 0.8ms | Allocations: 14394)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 22:21:14 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1767)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 8407)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 1.1ms | Allocations: 9215)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 22:21:14 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"2"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:17:in `create'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms | Allocations: 1167)


  
NoMethodError (undefined method `favorites' for nil:NilClass):
  
app/controllers/favorites_controller.rb:18:in `create'
Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 22:21:34 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 10.8ms | Allocations: 8955)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 21.1ms | Allocations: 28993)
Completed 200 OK in 31ms (Views: 17.8ms | ActiveRecord: 7.0ms | Allocations: 34319)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 22:21:35 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"2"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:17:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:22:in `block (2 levels) in create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:22:in `block (2 levels) in create'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 2], ["created_at", "2023-04-06 13:21:35.623701"], ["updated_at", "2023-04-06 13:21:35.623701"]]
  ↳ app/controllers/favorites_controller.rb:22:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:22:in `block (2 levels) in create'
Redirected to http://localhost:3000/movies/2
Completed 302 Found in 15ms (ActiveRecord: 4.2ms | Allocations: 6497)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 22:21:35 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1753)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 8393)
Completed 200 OK in 14ms (Views: 11.5ms | ActiveRecord: 0.9ms | Allocations: 9208)


Started DELETE "/favorites/2" for 127.0.0.1 at 2023-04-06 22:21:37 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:41:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:41:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 32]]
  ↳ app/controllers/favorites_controller.rb:41:in `destroy'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:41:in `destroy'
Redirected to http://localhost:3000/movies/2
Completed 302 Found in 12ms (ActiveRecord: 5.3ms | Allocations: 3307)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 22:21:37 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1776)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 8645)
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 0.9ms | Allocations: 9460)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:21:38 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.7ms | Allocations: 5159)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 6012)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 12870)
Completed 200 OK in 22ms (Views: 16.8ms | ActiveRecord: 0.8ms | Allocations: 14735)


Started POST "/movies.json?query=%22Simpsons%22" for ::1 at 2023-04-06 22:23:02 +0900
  
ActionController::RoutingError (No route matches [POST] "/movies.json"):
  
Started GET "/movies.json?query=%22Simpsons%22" for ::1 at 2023-04-06 22:23:08 +0900
Processing by MoviesController#index as JSON
  Parameters: {"query"=>"\"Simpsons\""}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/movies_controller.rb:13:in `block (2 levels) in index'
Completed 200 OK in 59ms (Views: 49.5ms | ActiveRecord: 3.5ms | Allocations: 7733)


Started GET "/movies.json?query=%22Simpsons%22" for ::1 at 2023-04-06 22:24:39 +0900
Processing by MoviesController#index as JSON
  Parameters: {"query"=>"\"Simpsons\""}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/movies_controller.rb:13:in `block (2 levels) in index'
Completed 200 OK in 16ms (Views: 9.9ms | ActiveRecord: 2.0ms | Allocations: 5842)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 22:24:42 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 13.5ms | Allocations: 8964)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 29006)
Completed 200 OK in 33ms (Views: 27.3ms | ActiveRecord: 4.0ms | Allocations: 30593)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 22:24:43 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:18:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:23:in `block (2 levels) in create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:23:in `block (2 levels) in create'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 2], ["created_at", "2023-04-06 13:24:43.651034"], ["updated_at", "2023-04-06 13:24:43.651034"]]
  ↳ app/controllers/favorites_controller.rb:23:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:23:in `block (2 levels) in create'
Redirected to http://localhost:3000/movies/2
Completed 302 Found in 15ms (ActiveRecord: 3.8ms | Allocations: 6544)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 22:24:43 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1752)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 8394)
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 0.7ms | Allocations: 9209)


Started DELETE "/favorites/2" for 127.0.0.1 at 2023-04-06 22:24:44 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:42:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:42:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 33]]
  ↳ app/controllers/favorites_controller.rb:42:in `destroy'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:42:in `destroy'
Redirected to http://localhost:3000/movies/2
Completed 302 Found in 11ms (ActiveRecord: 5.1ms | Allocations: 3304)


Started GET "/movies/2" for 127.0.0.1 at 2023-04-06 22:24:44 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1749)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 8389)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.7ms | Allocations: 9204)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:26:26 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 5.3ms | Allocations: 6687)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 7758)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 28319)
Completed 200 OK in 37ms (Views: 17.8ms | ActiveRecord: 7.5ms | Allocations: 39721)


Started GET "/movies?search=Lego&commit=Search" for 127.0.0.1 at 2023-04-06 22:26:28 +0900
Processing by MoviesController#index as HTML
  Parameters: {"search"=>"Lego", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" IN ($1, $2, $3)[0m  [["id", 1], ["id", 20], ["id", 7]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 10.4ms | Allocations: 2183)
  Rendered movies/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 3013)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 9652)
Completed 200 OK in 24ms (Views: 19.1ms | ActiveRecord: 1.0ms | Allocations: 11517)


Started GET "/movies?search=&commit=Search" for 127.0.0.1 at 2023-04-06 22:26:32 +0900
Processing by MoviesController#index as HTML
  Parameters: {"search"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.1ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 5959)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 12598)
Completed 200 OK in 21ms (Views: 16.1ms | ActiveRecord: 0.9ms | Allocations: 14412)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:37:02 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"4"}
Completed 500 Internal Server Error in 1ms (Allocations: 744)


  
NoMethodError (undefined method `ensure_current_user' for #<FavoritesController:0x00000000037b18>):
  
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
actiontext (7.0.4.3) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.4.3) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/movies?search=Lego&commit=Search" for 127.0.0.1 at 2023-04-06 22:37:06 +0900
Processing by MoviesController#index as HTML
  Parameters: {"search"=>"Lego", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" IN ($1, $2, $3)[0m  [["id", 1], ["id", 20], ["id", 7]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 10.8ms | Allocations: 2549)
  Rendered movies/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 3685)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 302)
  Rendered layout layouts/application.html.erb (Duration: 90.8ms | Allocations: 62779)
Completed 200 OK in 113ms (Views: 91.8ms | ActiveRecord: 4.3ms | Allocations: 68025)


Started GET "/movies?search=Lego&commit=Search" for 127.0.0.1 at 2023-04-06 22:37:06 +0900
Processing by MoviesController#index as HTML
  Parameters: {"search"=>"Lego", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" IN ($1, $2, $3)[0m  [["id", 1], ["id", 20], ["id", 7]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 10.6ms | Allocations: 2199)
  Rendered movies/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3028)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 9670)
Completed 200 OK in 25ms (Views: 21.1ms | ActiveRecord: 0.7ms | Allocations: 11498)


Started GET "/movies?search=Lego&commit=Search" for 127.0.0.1 at 2023-04-06 22:37:11 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MoviesController#index as HTML
  Parameters: {"search"=>"Lego", "commit"=>"Search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.6ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" IN ($1, $2, $3)[0m  [["id", 1], ["id", 20], ["id", 7]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 35.1ms | Allocations: 7124)
  Rendered movies/index.html.erb within layouts/application (Duration: 36.6ms | Allocations: 8724)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 312)
  Rendered layout layouts/application.html.erb (Duration: 123.7ms | Allocations: 62514)
Completed 200 OK in 154ms (Views: 124.4ms | ActiveRecord: 7.5ms | Allocations: 84229)


Started GET "/movies?search=&commit=Search" for 127.0.0.1 at 2023-04-06 22:37:13 +0900
Processing by MoviesController#index as HTML
  Parameters: {"search"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.9ms | Allocations: 5887)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 6721)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 13360)
Completed 200 OK in 20ms (Views: 15.4ms | ActiveRecord: 1.1ms | Allocations: 15191)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:37:33 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"11"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 830)


  
NoMethodError (undefined method `ensure_current_user' for #<FavoritesController:0x0000000000c328>):
  
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
actiontext (7.0.4.3) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.4.3) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/movies?search=Lego&commit=Search" for 127.0.0.1 at 2023-04-06 22:37:41 +0900
Processing by MoviesController#index as HTML
  Parameters: {"search"=>"Lego", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" IN ($1, $2, $3)[0m  [["id", 1], ["id", 20], ["id", 7]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 9.7ms | Allocations: 2211)
  Rendered movies/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 3043)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 9910)
Completed 200 OK in 19ms (Views: 14.5ms | ActiveRecord: 1.0ms | Allocations: 11752)


Started GET "/movies?search=Lego&commit=Search" for 127.0.0.1 at 2023-04-06 22:37:41 +0900
Processing by MoviesController#index as HTML
  Parameters: {"search"=>"Lego", "commit"=>"Search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" IN ($1, $2, $3)[0m  [["id", 1], ["id", 20], ["id", 7]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.4ms | Allocations: 2194)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3022)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 9659)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 0.7ms | Allocations: 11492)


Started GET "/movies?search=&commit=Search" for 127.0.0.1 at 2023-04-06 22:38:02 +0900
Processing by MoviesController#index as HTML
  Parameters: {"search"=>"", "commit"=>"Search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.6ms | Allocations: 7122)
  Rendered movies/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 7932)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 101)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 29644)
Completed 200 OK in 32ms (Views: 15.1ms | ActiveRecord: 7.2ms | Allocations: 40780)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:38:04 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 8], ["created_at", "2023-04-06 13:38:04.421906"], ["updated_at", "2023-04-06 13:38:04.421906"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 20ms (ActiveRecord: 4.6ms | Allocations: 11412)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:38:04 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.6ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 6671)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 13308)
Completed 200 OK in 18ms (Views: 14.7ms | ActiveRecord: 0.9ms | Allocations: 15137)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:38:05 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 34]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 11ms (ActiveRecord: 5.2ms | Allocations: 3328)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:38:05 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.8ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 6673)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 13310)
Completed 200 OK in 19ms (Views: 15.0ms | ActiveRecord: 0.8ms | Allocations: 15151)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:38:06 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 10], ["created_at", "2023-04-06 13:38:06.527195"], ["updated_at", "2023-04-06 13:38:06.527195"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 20ms (ActiveRecord: 6.2ms | Allocations: 5918)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:38:06 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.5ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 6674)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 13540)
Completed 200 OK in 21ms (Views: 16.7ms | ActiveRecord: 0.7ms | Allocations: 15374)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:38:07 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"12"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 12], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 12], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 12], ["created_at", "2023-04-06 13:38:07.674215"], ["updated_at", "2023-04-06 13:38:07.674215"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 15ms (ActiveRecord: 5.8ms | Allocations: 5897)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:38:07 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.8ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 6673)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 13311)
Completed 200 OK in 19ms (Views: 15.5ms | ActiveRecord: 0.8ms | Allocations: 15146)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:38:08 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"14"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 14], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 14], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 14], ["created_at", "2023-04-06 13:38:08.748572"], ["updated_at", "2023-04-06 13:38:08.748572"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 10ms (ActiveRecord: 5.1ms | Allocations: 5870)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:38:08 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.9ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 6674)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 13311)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.5ms | Allocations: 15143)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:38:09 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"13"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 13], ["created_at", "2023-04-06 13:38:09.588597"], ["updated_at", "2023-04-06 13:38:09.588597"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 12ms (ActiveRecord: 2.6ms | Allocations: 5884)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:38:09 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.9ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 6673)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 13310)
Completed 200 OK in 19ms (Views: 14.8ms | ActiveRecord: 0.8ms | Allocations: 15152)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:38:10 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"13"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 38]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 11ms (ActiveRecord: 4.7ms | Allocations: 3233)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:38:10 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.5ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 6674)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 13540)
Completed 200 OK in 20ms (Views: 16.3ms | ActiveRecord: 0.7ms | Allocations: 15391)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:38:11 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"12"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 12], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 36]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 11ms (ActiveRecord: 5.0ms | Allocations: 3239)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:38:11 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.7ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 6673)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 13311)
Completed 200 OK in 18ms (Views: 15.0ms | ActiveRecord: 0.6ms | Allocations: 15173)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:38:12 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.7ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 6673)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 13310)
Completed 200 OK in 19ms (Views: 14.8ms | ActiveRecord: 0.9ms | Allocations: 15135)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:38:14 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 9], ["created_at", "2023-04-06 13:38:14.117059"], ["updated_at", "2023-04-06 13:38:14.117059"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 15ms (ActiveRecord: 5.7ms | Allocations: 5905)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:38:14 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.0ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 6674)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 13311)
Completed 200 OK in 19ms (Views: 15.5ms | ActiveRecord: 0.7ms | Allocations: 15155)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:38:15 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 39]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 11ms (ActiveRecord: 5.0ms | Allocations: 3212)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:38:15 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 10.0ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 6673)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 13540)
Completed 200 OK in 23ms (Views: 19.2ms | ActiveRecord: 0.8ms | Allocations: 15359)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:41:57 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.6ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.2ms | Allocations: 8941)
  Rendered movies/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 10537)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 312)
  Rendered layout layouts/application.html.erb (Duration: 120.8ms | Allocations: 73375)
Completed 200 OK in 150ms (Views: 121.9ms | ActiveRecord: 6.5ms | Allocations: 95021)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:41:58 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 9], ["created_at", "2023-04-06 13:41:58.958660"], ["updated_at", "2023-04-06 13:41:58.958660"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 24ms (ActiveRecord: 7.3ms | Allocations: 11530)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:41:58 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.0ms | Allocations: 5850)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 6673)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 13312)
Completed 200 OK in 19ms (Views: 15.8ms | ActiveRecord: 0.6ms | Allocations: 15146)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:42:00 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 40]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 11ms (ActiveRecord: 5.0ms | Allocations: 3337)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:42:00 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.0ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 6674)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 13312)
Completed 200 OK in 19ms (Views: 15.7ms | ActiveRecord: 0.6ms | Allocations: 15155)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:42:01 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"13"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 13], ["created_at", "2023-04-06 13:42:01.090553"], ["updated_at", "2023-04-06 13:42:01.090553"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 22ms (ActiveRecord: 5.8ms | Allocations: 5936)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:42:01 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.9ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 6675)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 13537)
Completed 200 OK in 15ms (Views: 10.9ms | ActiveRecord: 0.9ms | Allocations: 15358)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:42:01 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"13"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 41]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 10ms (ActiveRecord: 4.6ms | Allocations: 3245)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:42:01 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.9ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 6674)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 13313)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.6ms | Allocations: 15153)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:42:02 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 16], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 16], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 16], ["created_at", "2023-04-06 13:42:02.429699"], ["updated_at", "2023-04-06 13:42:02.429699"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 16ms (ActiveRecord: 5.7ms | Allocations: 5899)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:42:02 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.4ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 6673)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 13311)
Completed 200 OK in 20ms (Views: 16.4ms | ActiveRecord: 0.8ms | Allocations: 15143)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-06 22:42:02 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"16"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 16], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Destroy (0.2ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 42]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 11ms (ActiveRecord: 4.6ms | Allocations: 3224)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:42:03 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.1ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.7ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 6674)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 13311)
Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 0.5ms | Allocations: 15154)


Started GET "/movies/8" for 127.0.0.1 at 2023-04-06 22:42:05 +0900
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 8], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2135)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 8773)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 1.1ms | Allocations: 10189)


Started POST "/favorites" for 127.0.0.1 at 2023-04-06 22:42:06 +0900
Processing by FavoritesController#create as TURBO_STREAM
  Parameters: {"movie_id"=>"8"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:19:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:24:in `block (2 levels) in create'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:24:in `block (2 levels) in create'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 8], ["created_at", "2023-04-06 13:42:06.621080"], ["updated_at", "2023-04-06 13:42:06.621080"]]
  ↳ app/controllers/favorites_controller.rb:24:in `block (2 levels) in create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:24:in `block (2 levels) in create'
Redirected to http://localhost:3000/movies/8
Completed 302 Found in 12ms (ActiveRecord: 5.2ms | Allocations: 4520)


Started GET "/movies/8" for 127.0.0.1 at 2023-04-06 22:42:06 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"8"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 8], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1746)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 8475)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.7ms | Allocations: 9293)


Started DELETE "/favorites/8" for 127.0.0.1 at 2023-04-06 22:42:07 +0900
Processing by FavoritesController#destroy as TURBO_STREAM
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:43:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:43:in `destroy'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 43]]
  ↳ app/controllers/favorites_controller.rb:43:in `destroy'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:43:in `destroy'
Redirected to http://localhost:3000/movies/8
Completed 302 Found in 10ms (ActiveRecord: 4.7ms | Allocations: 3227)


Started GET "/movies/8" for 127.0.0.1 at 2023-04-06 22:42:07 +0900
Processing by MoviesController#show as TURBO_STREAM
  Parameters: {"id"=>"8"}
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/movies_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering movies/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 8], ["LIMIT", 1]]
  ↳ app/views/movies/show.html.erb:6
  Rendered movies/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1775)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 8413)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.6ms | Allocations: 9231)


Started GET "/movies" for 127.0.0.1 at 2023-04-06 22:42:08 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.8ms | Allocations: 5849)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 6674)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 13312)
Completed 200 OK in 13ms (Views: 9.2ms | ActiveRecord: 0.7ms | Allocations: 15127)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 22:52:41 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (Allocations: 392)


Started GET "/" for 127.0.0.1 at 2023-04-06 22:52:41 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.7ms | Allocations: 380)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 20801)
Completed 200 OK in 22ms (Views: 21.6ms | Allocations: 21622)


Started GET "/logout" for 127.0.0.1 at 2023-04-06 22:52:41 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (Allocations: 319)


Started GET "/" for 127.0.0.1 at 2023-04-06 22:52:41 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.1ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 6759)
Completed 200 OK in 6ms (Views: 5.4ms | Allocations: 7015)


Started GET "/" for 127.0.0.1 at 2023-04-06 22:52:41 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.1ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 6797)
Completed 200 OK in 7ms (Views: 6.5ms | Allocations: 7053)


Started GET "/path/to/your/custom_crt_effect.js" for 127.0.0.1 at 2023-04-06 22:52:41 +0900
  
ActionController::RoutingError (No route matches [GET] "/path/to/your/custom_crt_effect.js"):
  
Started GET "/path/to/your/custom_crt_effect.js" for 127.0.0.1 at 2023-04-06 22:52:41 +0900
  
ActionController::RoutingError (No route matches [GET] "/path/to/your/custom_crt_effect.js"):
  
Started GET "/path/to/your/font.json" for 127.0.0.1 at 2023-04-06 22:52:41 +0900
  
ActionController::RoutingError (No route matches [GET] "/path/to/your/font.json"):
  
Started GET "/" for 127.0.0.1 at 2023-04-06 22:52:43 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.2ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 6983)
Completed 200 OK in 9ms (Views: 8.3ms | Allocations: 7241)


Started GET "/path/to/your/custom_crt_effect.js" for 127.0.0.1 at 2023-04-06 22:52:43 +0900
  
ActionController::RoutingError (No route matches [GET] "/path/to/your/custom_crt_effect.js"):
  
Started GET "/path/to/your/custom_crt_effect.js" for 127.0.0.1 at 2023-04-06 22:52:43 +0900
  
ActionController::RoutingError (No route matches [GET] "/path/to/your/custom_crt_effect.js"):
  
Started GET "/path/to/your/font.json" for 127.0.0.1 at 2023-04-06 22:52:43 +0900
  
ActionController::RoutingError (No route matches [GET] "/path/to/your/font.json"):
  
Started GET "/" for 127.0.0.1 at 2023-04-06 22:52:46 +0900
Processing by PagesController#landing as */*
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.2ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 9522)
Completed 200 OK in 15ms (Views: 15.0ms | Allocations: 9815)


Started GET "/" for 127.0.0.1 at 2023-04-06 22:53:23 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.4ms | Allocations: 369)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 7400)
Completed 200 OK in 7ms (Views: 6.2ms | Allocations: 8141)


Started GET "/path/to/your/font.json" for 127.0.0.1 at 2023-04-06 22:53:24 +0900
  
ActionController::RoutingError (No route matches [GET] "/path/to/your/font.json"):
  
Started GET "/" for 127.0.0.1 at 2023-04-06 23:01:14 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.4ms | Allocations: 367)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 7603)
Completed 200 OK in 8ms (Views: 7.9ms | Allocations: 8346)


  
ActionController::RoutingError (No route matches [GET] "/fonts/Rubik_Pixels.json"):
  
Started GET "/" for 127.0.0.1 at 2023-04-06 23:02:39 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2156)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 2244)
Completed 500 Internal Server Error in 3ms (Allocations: 2986)


  
ActionView::Template::Error (The asset "fonts/Rubik_Pixels.json" is not present in the asset pipeline.
):
    17:   document.body.appendChild(renderer.domElement);
    18: 
    19:   const loader = new THREE.FontLoader();
    20:   loader.load("<%= asset_path('fonts/Rubik_Pixels.json') %>", function (font) {
    21:     const textGeometry = new THREE.TextGeometry('Watchr', {
    22:       font: font,
    23:       size: 4,
  
app/views/pages/landing.html.erb:20
Started GET "/" for 127.0.0.1 at 2023-04-06 23:02:52 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 1.7ms | Allocations: 2942)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 3044)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 6199)


  
ActionView::Template::Error (The asset "fonts/Rubik_Pixels.json" is not present in the asset pipeline.
):
    17:   document.body.appendChild(renderer.domElement);
    18: 
    19:   const loader = new THREE.FontLoader();
    20:   loader.load("<%= asset_path('fonts/Rubik_Pixels.json') %>", function (font) {
    21:     const textGeometry = new THREE.TextGeometry('Watchr', {
    22:       font: font,
    23:       size: 4,
  
app/views/pages/landing.html.erb:20
Started GET "/" for 127.0.0.1 at 2023-04-06 23:03:21 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 10859.6ms | Allocations: 132575)
  Rendered layout layouts/application.html.erb (Duration: 10874.2ms | Allocations: 154200)
Completed 200 OK in 10876ms (Views: 10875.5ms | ActiveRecord: 0.0ms | Allocations: 154994)


Started GET "/" for 127.0.0.1 at 2023-04-06 23:10:51 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1042)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 34918)
Completed 200 OK in 22ms (Views: 21.7ms | Allocations: 35663)


Started GET "/" for 127.0.0.1 at 2023-04-06 23:13:41 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 8655)
Completed 200 OK in 10ms (Views: 9.4ms | Allocations: 9397)


Started GET "/" for 127.0.0.1 at 2023-04-06 23:17:06 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.7ms | Allocations: 353)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 7964)
Completed 200 OK in 7ms (Views: 6.7ms | Allocations: 8709)


Started POST "/authenticate?email=test4@test.com&password=[FILTERED]" for ::1 at 2023-04-06 23:23:29 +0900
Processing by AuthController#login as */*
  Parameters: {"email"=>"test4@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/auth_controller.rb:5:in `login'
Completed 200 OK in 200ms (Views: 0.2ms | ActiveRecord: 5.5ms | Allocations: 11822)


Started GET "/" for 127.0.0.1 at 2023-04-06 23:52:32 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 1.0ms | Allocations: 350)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 7949)
Completed 200 OK in 13ms (Views: 12.6ms | Allocations: 8693)


Started GET "/" for 127.0.0.1 at 2023-04-06 23:53:04 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.6ms | Allocations: 266)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 9038)
Completed 200 OK in 11ms (Views: 10.4ms | Allocations: 9780)


Started GET "/" for 127.0.0.1 at 2023-04-07 00:02:08 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.1ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 7354)
Completed 200 OK in 5ms (Views: 4.9ms | Allocations: 7612)


Started GET "/login" for 127.0.0.1 at 2023-04-07 00:02:10 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3989)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 11149)
Completed 200 OK in 15ms (Views: 14.1ms | Allocations: 11998)


Started POST "/login" for 127.0.0.1 at 2023-04-07 00:02:17 +0900
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test4@test.com", "password"=>"[FILTERED]", "commit"=>"Log In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 216ms (ActiveRecord: 3.1ms | Allocations: 3920)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 00:02:17 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.7ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.1ms | Allocations: 8210)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 9318)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 307)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 16940)
Completed 200 OK in 30ms (Views: 12.3ms | ActiveRecord: 5.7ms | Allocations: 27925)


Started GET "/favorites" for 127.0.0.1 at 2023-04-07 00:02:20 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:10:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.5ms | Allocations: 2746)
  Rendered favorites/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2930)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 10269)
Completed 200 OK in 20ms (Views: 14.8ms | ActiveRecord: 1.3ms | Allocations: 12568)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 00:02:21 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.3ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 13177)
Completed 200 OK in 22ms (Views: 16.8ms | ActiveRecord: 1.1ms | Allocations: 15006)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 00:02:27 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 19], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 19], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 19], ["created_at", "2023-04-06 15:02:27.796887"], ["updated_at", "2023-04-06 15:02:27.796887"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 24ms (ActiveRecord: 8.0ms | Allocations: 11221)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 00:02:27 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 5.9ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 5952)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 13174)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 1.0ms | Allocations: 14997)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 00:02:28 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 19], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 44]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 12ms (ActiveRecord: 5.4ms | Allocations: 3338)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 00:02:28 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.0ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 13208)
Completed 200 OK in 21ms (Views: 16.8ms | ActiveRecord: 0.9ms | Allocations: 15060)


Started GET "/" for 127.0.0.1 at 2023-04-07 10:31:11 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.6ms | Allocations: 578)
  Rendered layout layouts/application.html.erb (Duration: 100.7ms | Allocations: 62125)
Completed 200 OK in 105ms (Views: 102.4ms | ActiveRecord: 0.0ms | Allocations: 65336)


Started GET "/signup" for 127.0.0.1 at 2023-04-07 10:31:14 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 3214)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 9829)
Completed 200 OK in 24ms (Views: 8.6ms | ActiveRecord: 3.8ms | Allocations: 17114)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:31:34 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1696)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 8456)
Completed 200 OK in 181ms (Views: 6.1ms | ActiveRecord: 1.3ms | Allocations: 13628)


Started GET "/login" for 127.0.0.1 at 2023-04-07 10:32:12 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2632)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 9246)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms | Allocations: 10066)


Started POST "/login" for 127.0.0.1 at 2023-04-07 10:32:17 +0900
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test4@test.com", "password"=>"[FILTERED]", "commit"=>"Log In"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 170ms (ActiveRecord: 0.7ms | Allocations: 1334)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:32:17 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (1.5ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.0ms | Allocations: 8197)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 9323)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 307)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 16378)
Completed 200 OK in 32ms (Views: 11.8ms | ActiveRecord: 5.9ms | Allocations: 27290)


Started GET "/favorites" for 127.0.0.1 at 2023-04-07 10:32:26 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.3ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:10:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.1ms | Allocations: 2742)
  Rendered favorites/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2929)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 9961)
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 1.0ms | Allocations: 12233)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:32:27 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.1ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 5955)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 12822)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.6ms | Allocations: 14621)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:35:19 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.2ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 6558)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 17348)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.6ms | Allocations: 19646)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html>
  <head>
    <title>Watchr</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="bg-slate-100">
      <% flash.each do |message_type, message| %>
        <div data-controller="flash" class="<%= flash_message_class(message_type) %> p-4 mb-4 rounded-md">
          <%= message %>
        </div>
      <% end %>
    <% end %>
    <main class="container mx-auto bg-slate-100 mt-28 px-5 flex flex-col">
      <% if controller_name == 'movies' || controller_name == 'favorites' %>
        <%= render 'shared/navbar' %>
      <% end %>

      <div class="w-1/2 mx-auto">
        <%= yield %>
      </div>
    </main>
  </body>
</html>

):
1:    <!DOCTYPE html>
2:    <html>
3:      <head>
4:        <title>Watchr</title>
5:        <meta name="viewport" content="width=device-width,initial-scale=1">
6:        <%= csrf_meta_tags %>
7:        <%= csp_meta_tag %>
8:        <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
9:    
10:        <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
11:        <%= javascript_importmap_tags %>
12:      </head>
13:    
14:      <body class="bg-slate-100">
15:          <% flash.each do |message_type, message| %>
16:            <div data-controller="flash" class="<%= flash_message_class(message_type) %> p-4 mb-4 rounded-md">
17:              <%= message %>
18:            </div>
19:          <% end %>
20:        <% end %>
21:        <main class="container mx-auto bg-slate-100 mt-28 px-5 flex flex-col">
22:          <% if controller_name == 'movies' || controller_name == 'favorites' %>
23:            <%= render 'shared/navbar' %>
24:          <% end %>
25:    
26:          <div class="w-1/2 mx-auto">
27:            <%= yield %>
28:          </div>
29:        </main>
30:      </body>
31:    </html>
  
app/views/layouts/application.html.erb:34: syntax error, unexpected `end'
app/views/layouts/application.html.erb:34: syntax error, unexpected `end'
app/views/layouts/application.html.erb:34: syntax error, unexpected `end'
app/views/layouts/application.html.erb:34: syntax error, unexpected `end'
app/views/layouts/application.html.erb:34: syntax error, unexpected `end'
app/views/layouts/application.html.erb:34: syntax error, unexpected `end'
Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:35:44 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.3ms | Allocations: 5427)
  Rendered movies/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 6557)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 46.9ms | Allocations: 59087)
Completed 200 OK in 52ms (Views: 47.6ms | ActiveRecord: 1.1ms | Allocations: 61390)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 10:35:46 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.9ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 2], ["created_at", "2023-04-07 01:35:46.593960"], ["updated_at", "2023-04-07 01:35:46.593960"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 16ms (ActiveRecord: 3.2ms | Allocations: 11073)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:35:46 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.9ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 5951)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 12744)
Completed 200 OK in 24ms (Views: 21.5ms | ActiveRecord: 0.5ms | Allocations: 14588)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:38:38 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.1ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.7ms | Allocations: 6687)
  Rendered movies/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 7756)
  Rendered shared/_navbar.html.erb (Duration: 0.4ms | Allocations: 297)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 33128)
Completed 200 OK in 37ms (Views: 23.1ms | ActiveRecord: 4.3ms | Allocations: 44490)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 10:38:40 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 4], ["created_at", "2023-04-07 01:38:40.288755"], ["updated_at", "2023-04-07 01:38:40.288755"]]
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:55:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 17ms (ActiveRecord: 3.0ms | Allocations: 8775)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:38:40 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.1ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.2ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 5951)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 12860)
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 0.4ms | Allocations: 14700)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 10:38:44 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:49:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Destroy (3.8ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 30]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 11ms (ActiveRecord: 5.1ms | Allocations: 3307)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:38:44 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.5ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 12849)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 0.7ms | Allocations: 14695)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:39:15 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.1ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 4.2ms | Allocations: 6402)
  Rendered movies/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 7206)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 101)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 28736)
Completed 200 OK in 32ms (Views: 15.5ms | ActiveRecord: 5.6ms | Allocations: 39849)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 10:39:16 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:47:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Create (0.2ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 5], ["created_at", "2023-04-07 01:39:16.682371"], ["updated_at", "2023-04-07 01:39:16.682371"]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 13ms (ActiveRecord: 2.8ms | Allocations: 8781)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:39:16 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.4ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 5952)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 12860)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.5ms | Allocations: 14668)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 10:39:17 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:47:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
  [1m[36mFavorite Destroy (0.2ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 47]]
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 11ms (ActiveRecord: 4.6ms | Allocations: 3240)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:39:17 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.7ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 5953)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 12621)
Completed 200 OK in 19ms (Views: 15.5ms | ActiveRecord: 0.6ms | Allocations: 14440)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 10:39:18 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:47:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 8], ["created_at", "2023-04-07 01:39:18.900685"], ["updated_at", "2023-04-07 01:39:18.900685"]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 7ms (ActiveRecord: 1.9ms | Allocations: 5851)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:39:18 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.1ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.4ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 5953)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 12622)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.5ms | Allocations: 14439)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 10:39:19 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:47:in `toggle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 48]]
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 13ms (ActiveRecord: 4.6ms | Allocations: 3200)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:39:19 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.2ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 12868)
Completed 200 OK in 20ms (Views: 16.4ms | ActiveRecord: 0.7ms | Allocations: 14699)


Started GET "/favorites" for 127.0.0.1 at 2023-04-07 10:39:22 +0900
Processing by FavoritesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:10:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.1ms | Allocations: 2836)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3023)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 9817)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.7ms | Allocations: 11966)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 10:39:23 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:47:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 45]]
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
Redirected to http://localhost:3000/favorites
Completed 302 Found in 10ms (ActiveRecord: 4.9ms | Allocations: 3197)


Started GET "/favorites" for 127.0.0.1 at 2023-04-07 10:39:23 +0900
Processing by FavoritesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:10:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.8ms | Allocations: 1655)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1722)
  Rendered shared/_navbar.html.erb (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 8400)
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 0.9ms | Allocations: 10205)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 10:39:24 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"10"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 10], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:47:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 35]]
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:50:in `toggle'
Redirected to http://localhost:3000/favorites
Completed 302 Found in 7ms (ActiveRecord: 1.7ms | Allocations: 3218)


Started GET "/favorites" for 127.0.0.1 at 2023-04-07 10:39:25 +0900
Processing by FavoritesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/favorites_controller.rb:10:in `index'
  Rendering layout layouts/application.html.erb
  Rendering favorites/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 2.6ms | Allocations: 1503)
  Rendered favorites/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1570)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 8248)
Completed 200 OK in 14ms (Views: 10.8ms | ActiveRecord: 0.8ms | Allocations: 10055)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:39:26 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 3.3ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 12742)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.7ms | Allocations: 14565)


Started POST "/favorites/toggle" for 127.0.0.1 at 2023-04-07 10:39:27 +0900
Processing by FavoritesController#toggle as TURBO_STREAM
  Parameters: {"movie_id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:47:in `toggle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."movie_id" = $2 LIMIT $3[0m  [["user_id", 5], ["movie_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "movie_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["movie_id", 9], ["created_at", "2023-04-07 01:39:27.833785"], ["updated_at", "2023-04-07 01:39:27.833785"]]
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/favorites_controller.rb:52:in `toggle'
Redirected to http://localhost:3000/movies
Completed 302 Found in 16ms (ActiveRecord: 6.1ms | Allocations: 5911)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:39:27 +0900
Processing by MoviesController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.2ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 6.3ms | Allocations: 5129)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 5954)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 12760)
Completed 200 OK in 19ms (Views: 15.0ms | ActiveRecord: 0.8ms | Allocations: 14572)


Started GET "/logout" for 127.0.0.1 at 2023-04-07 10:39:35 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 339)


Started GET "/" for 127.0.0.1 at 2023-04-07 10:39:35 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.6ms | Allocations: 272)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 7075)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 7720)


Started GET "/signup" for 127.0.0.1 at 2023-04-07 10:39:38 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1563)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 8171)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 8842)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:39:45 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1604)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 8120)
Completed 200 OK in 202ms (Views: 5.6ms | ActiveRecord: 0.6ms | Allocations: 11515)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:39:46 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1595)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 8205)
Completed 200 OK in 176ms (Views: 7.5ms | ActiveRecord: 0.7ms | Allocations: 11295)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:39:47 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1595)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 8248)
Completed 200 OK in 210ms (Views: 5.9ms | ActiveRecord: 0.5ms | Allocations: 11329)


Started GET "/signup" for 127.0.0.1 at 2023-04-07 10:42:16 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1619)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 9715)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.0ms | Allocations: 10474)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:42:23 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1999)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 8515)
Completed 200 OK in 196ms (Views: 5.7ms | ActiveRecord: 0.5ms | Allocations: 11643)


Started GET "/signup" for 127.0.0.1 at 2023-04-07 10:42:41 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3846)
  Rendered layout layouts/application.html.erb (Duration: 99.9ms | Allocations: 67829)
Completed 200 OK in 112ms (Views: 101.6ms | ActiveRecord: 2.2ms | Allocations: 77687)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:42:44 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 3142)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 9659)
Completed 200 OK in 209ms (Views: 6.6ms | ActiveRecord: 1.5ms | Allocations: 14947)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:42:45 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2979)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 9496)
Completed 200 OK in 185ms (Views: 7.1ms | ActiveRecord: 0.6ms | Allocations: 12676)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:42:45 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2979)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 9736)
Completed 200 OK in 213ms (Views: 7.4ms | ActiveRecord: 0.6ms | Allocations: 12920)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:45:08 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 3066)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 24425)
Completed 200 OK in 189ms (Views: 12.6ms | ActiveRecord: 3.5ms | Allocations: 31565)


Started GET "/signup" for 127.0.0.1 at 2023-04-07 10:45:09 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1189)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 7713)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 7996)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:45:12 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2979)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 9495)
Completed 200 OK in 175ms (Views: 6.1ms | ActiveRecord: 0.7ms | Allocations: 12678)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:46:06 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3460)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 25408)
Completed 200 OK in 190ms (Views: 14.2ms | ActiveRecord: 3.3ms | Allocations: 32831)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:46:07 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2979)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 9495)
Completed 200 OK in 174ms (Views: 6.1ms | ActiveRecord: 0.5ms | Allocations: 12686)


Started GET "/signup" for 127.0.0.1 at 2023-04-07 10:46:16 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3819)
  Rendered layout layouts/application.html.erb (Duration: 100.2ms | Allocations: 57435)
Completed 200 OK in 113ms (Views: 101.5ms | ActiveRecord: 1.9ms | Allocations: 67334)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:46:21 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 3142)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 9661)
Completed 200 OK in 177ms (Views: 6.5ms | ActiveRecord: 1.0ms | Allocations: 14966)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:47:47 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3450)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 10392)
Completed 200 OK in 212ms (Views: 8.2ms | ActiveRecord: 0.7ms | Allocations: 14127)


Started GET "/signup" for 127.0.0.1 at 2023-04-07 10:47:48 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1193)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 7853)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms | Allocations: 8129)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:47:50 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 8584)
Completed 200 OK in 175ms (Views: 6.1ms | ActiveRecord: 0.6ms | Allocations: 11671)


Started GET "/signup" for 127.0.0.1 at 2023-04-07 10:49:10 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1621)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 8570)
Completed 200 OK in 7ms (Views: 7.1ms | ActiveRecord: 0.0ms | Allocations: 9329)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:49:12 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 2996)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 9513)
Completed 200 OK in 210ms (Views: 6.8ms | ActiveRecord: 0.6ms | Allocations: 12748)


Started GET "/signup" for 127.0.0.1 at 2023-04-07 10:49:31 +0900
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3826)
  Rendered layout layouts/application.html.erb (Duration: 88.2ms | Allocations: 57263)
Completed 200 OK in 100ms (Views: 89.6ms | ActiveRecord: 2.4ms | Allocations: 67162)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:49:35 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3157)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 9676)
Completed 200 OK in 205ms (Views: 7.2ms | ActiveRecord: 0.7ms | Allocations: 14995)


Started GET "/signup" for 127.0.0.1 at 2023-04-07 10:50:44 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1636)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 8586)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 9352)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:50:47 +0900
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2002)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 8518)
Completed 200 OK in 204ms (Views: 5.8ms | ActiveRecord: 0.6ms | Allocations: 11663)


Started GET "/signup" for 127.0.0.1 at 2023-04-07 10:51:24 +0900
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1642)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 8829)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.0ms | Allocations: 9596)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:51:26 +0900
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2001)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 8518)
Completed 200 OK in 185ms (Views: 6.2ms | ActiveRecord: 0.6ms | Allocations: 11621)


Started POST "/users" for 127.0.0.1 at 2023-04-07 10:51:41 +0900
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."authentication_token" = $1 LIMIT $2[0m  [["authentication_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/models/user.rb:20:in `block in generate_authentication_token'
  [1m[36mUser Create (3.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "authentication_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test5@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-04-07 01:51:42.138022"], ["updated_at", "2023-04-07 01:51:42.138022"], ["authentication_token", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 177ms (ActiveRecord: 5.2ms | Allocations: 5076)


Started GET "/movies" for 127.0.0.1 at 2023-04-07 10:51:42 +0900
Processing by MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `current_user'
  [1m[36mMovie Pluck (0.4ms)[0m  [1m[34mSELECT "movies"."id" FROM "movies" INNER JOIN "favorites" ON "movies"."id" = "favorites"."movie_id" WHERE "favorites"."user_id" = $1[0m  [["user_id", 6]]
  ↳ app/controllers/movies_controller.rb:9:in `index'
  Rendering layout layouts/application.html.erb
  Rendering movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  ↳ app/views/shared/_movie_list.html.erb:2
  Rendered shared/_movie_list.html.erb (Duration: 7.1ms | Allocations: 8203)
  Rendered movies/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 9335)
  Rendered shared/_navbar.html.erb (Duration: 0.3ms | Allocations: 307)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 16387)
Completed 200 OK in 30ms (Views: 13.1ms | ActiveRecord: 4.7ms | Allocations: 27400)


Started GET "/logout" for 127.0.0.1 at 2023-04-07 10:51:44 +0900
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 369)


Started GET "/" for 127.0.0.1 at 2023-04-07 10:51:44 +0900
Processing by PagesController#landing as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/landing.html.erb within layouts/application
  Rendered pages/landing.html.erb within layouts/application (Duration: 0.6ms | Allocations: 275)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 7072)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms | Allocations: 7719)


  [1m[35m (24.6ms)[0m  [1m[35mCREATE DATABASE "dev" ENCODING = 'unicode'[0m
  [1m[35m (20.4ms)[0m  [1m[35mCREATE DATABASE "test" ENCODING = 'unicode'[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230406024729)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230406024729"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20230406043802)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "title" character varying, "year" integer, "details" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230406043802"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFavorites (20230406083934)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "user_id" bigint NOT NULL, "movie_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d15744e438"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_2f96619ba3"
FOREIGN KEY ("movie_id")
  REFERENCES "movies" ("id")
)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_movie_id" ON "favorites" ("movie_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230406083934"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAuthenticationTokenToUsers (20230406115656)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "authentication_token" character varying[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_authentication_token" ON "users" ("authentication_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230406115656"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-15 05:19:46.171199"], ["updated_at", "2023-08-15 05:19:46.171199"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(601276535802311985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/db_seed.rake:25:in `block (4 levels) in <main>'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "year", "details", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "The Lego Movie"], ["year", 2014], ["details", "An ordinary LEGO construction worker, thought to be the prophesied as \"special\", is recruited to join a quest to stop an evil tyrant from gluing the LEGO universe into eternal stasis."], ["created_at", "2023-08-15 05:19:55.549554"], ["updated_at", "2023-08-15 05:19:55.549554"]]
  ↳ lib/tasks/db_seed.rake:25:in `block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/db_seed.rake:25:in `block (4 levels) in <main>'
